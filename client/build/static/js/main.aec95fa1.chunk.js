(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,a,t){e.exports=t.p+"static/media/homeHeroImage.8ce3de0a.jpg"},123:function(e,a,t){e.exports=t.p+"static/media/homeSubHeroImage.64d62472.jpg"},129:function(e,a,t){e.exports=t.p+"static/media/registerImage.52e2f8bd.jpg"},130:function(e,a,t){e.exports=t.p+"static/media/loginImage.e70c23ad.jpg"},131:function(e,a,t){e.exports=t.p+"static/media/productsImage.0435bdba.jpg"},132:function(e,a,t){e.exports=t.p+"static/media/farmersImage.abfc0f1c.jpg"},148:function(e,a,t){e.exports=t(177)},177:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(18),c=t.n(i),o=t(11),l=t(27),s=t(17),m=t(239),u=t(133),p=t(251),d=t(240),f=t(61),g=t(121),E=t(8),v={isLoading:!0,isAuthenticated:!1,token:localStorage.getItem("token"),user:null},h={message:"",errorType:null},b=Object(f.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",a.payload.token),{isLoading:!1,isAuthenticated:!0,token:a.payload.token,user:a.payload.user};case"REGISTER_FAIL":case"LOGIN_FAIL":case"LOGOUT":case"AUTH_ERROR":return localStorage.removeItem("token"),{isLoading:!1,isAuthenticated:!1,token:null,user:null};case"USER_LOADING":return Object(E.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(E.a)({},e,{isLoading:!1,isAuthenticated:!0,user:a.payload});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERROR":return{message:a.payload.message,errorType:a.payload.errorType};case"CLEAR_ERROR":return{msg:"",errorType:null};default:return e}}}),y=[g.a],j=Object(f.e)(b,{},Object(f.d)(f.a.apply(void 0,y),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),N=t(9),I=t.n(N),x=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t){t({type:"SET_ERROR",payload:{message:e,errorType:a}})}},_=function(){return function(e){e({type:"CLEAR_ERROR"})}},k=function(e){var a=e().auth.token,t={headers:{"Content-type":"application/json"}};return a&&(t.headers["x-auth-token"]=a),t};function O(){var e=Object(l.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var z=t(135),w=Object(s.b)((function(e){return{auth:e.auth}}),null,null,{pure:!1})((function(e){var a=e.component,t=e.auth,n=t.isLoading,i=t.isAuthenticated,c=Object(z.a)(e,["component","auth"]);return r.a.createElement(l.b,Object.assign({},c,{render:function(e){return i||n?r.a.createElement(a,e):r.a.createElement(l.a,{to:"/"})}}))})),C=t(216),S=t(221),D=t(241),B=t(220),T=t(178),P=t(226),F=t(137),R=t(222),L=t(122),W=t.n(L),U=t(123),q=t.n(U),A=t(5),X=t(218),M=t(244),H=t(223),K=t(224),G=t(182),J=t(225),V=t(134),Z=t(252),Q=t(253),Y=t(124),$=t.n(Y),ee=t(127),ae=t.n(ee),te=t(128),ne=t.n(te),re=t(104),ie=t.n(re),ce=t(70),oe=t.n(ce),le=Object(C.a)((function(e){return{appBar:{backgroundColor:e.palette.primary.main},toolbar:{display:"flex",justifyContent:"space-between"},link:{textDecoration:"none",color:e.palette.background.paper},menuLink:{textDecoration:"none",color:e.palette.text.primary},appNameBox:{display:"flex",flexDirection:"row",alignItems:"center"},ecoIcon:{color:e.palette.background.paper},appName:{color:e.palette.background.paper,marginLeft:e.spacing(1)},buttonsBox:{display:"flex",flexDirection:"row",alignItems:"center"},button:{marginLeft:e.spacing(1),marginRight:e.spacing(1),color:e.palette.background.paper},textWhite:{color:e.palette.background.paper},registerButton:{marginLeft:e.spacing(1),marginRight:e.spacing(1),backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:e.palette.primary.dark,color:e.palette.background.paper}},drawer:{backgroundColor:e.palette.primary.main},drawerToolbar:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},drawerButtonsBox:{padding:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},drawerButton:{marginTop:e.spacing(1),marginBottom:e.spacing(1),color:e.palette.background.paper},drawerRegisterButton:{marginTop:e.spacing(1),marginBottom:e.spacing(1),backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:e.palette.primary.dark,color:e.palette.background.paper}}}}));var se=Object(l.h)(Object(s.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"LOGOUT"})}}})((function(e){var a=le(),t=Object(n.useState)(!1),i=Object(A.a)(t,2),c=i[0],l=i[1],s=Object(n.useState)(null),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(null),f=Object(A.a)(d,2),g=f[0],E=f[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("shoppingCartData")||"[]").length;p(e)}),[e.storage]),r.a.createElement("div",{className:"NavBar"},r.a.createElement(X.a,{position:"fixed",className:a.appBar},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(S.a,{className:a.toolbar},r.a.createElement(o.b,{to:"/",className:a.link},r.a.createElement(D.a,{className:a.appNameBox},r.a.createElement($.a,{fontSize:"large",className:a.ecoIcon}),r.a.createElement(T.a,{variant:"h5",className:a.appName},"e-Tr\u017enica"))),r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.buttonsBox},r.a.createElement(o.b,{to:"/",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.button},"Po\u010detna")),r.a.createElement(o.b,{to:"/oglasi/0?filterType=0&filterId=0&sortType=0&sortAsc=0",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.button},"Oglasi")),r.a.createElement(o.b,{to:"/poljoprivrednici?filterType=0&filterId=0&sortType=0&sortAsc=0",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.button},"Poljoprivrednici")),r.a.createElement(H.a,{orientation:"vertical",flexItem:!0,className:a.button}),e.auth.isAuthenticated&&2===e.auth.user.userType?r.a.createElement(o.b,{to:"/kosarica",className:a.link},r.a.createElement(K.a,{title:"Ko\u0161arica"},r.a.createElement(G.a,{size:"small",color:"inherit",className:a.button},r.a.createElement(J.a,{badgeContent:u,color:"secondary"},r.a.createElement(oe.a,{fontSize:"default"}))))):r.a.createElement(r.a.Fragment,null),e.auth.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:a.buttonsBox},r.a.createElement(K.a,{title:"Ra\u010dun"},r.a.createElement(G.a,{size:"small",color:"primary",className:a.button,onClick:function(e){return E(e.currentTarget)}},r.a.createElement(ie.a,{fontSize:"large"}))),r.a.createElement(T.a,{variant:"subtitle2",className:a.textWhite},e.auth.user.name)),r.a.createElement(V.a,{anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){return E(null)}},r.a.createElement(o.b,{to:1===e.auth.user.userType?"/admin":2===e.auth.user.userType?"/profil_kupac/".concat(e.auth.user.userId):"/profil_poljoprivrednik/".concat(e.auth.user.userId),className:a.menuLink},r.a.createElement(Z.a,null,1===e.auth.user.userType?"Administracija":"Moj ra\u010dun")),r.a.createElement(Z.a,{onClick:function(){E(null),e.logout(),e.history.push("/")}},"Odjavi se"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/registracija",className:a.link},r.a.createElement(R.a,{variant:"contained",color:"primary",className:a.registerButton},"Registriraj se")),r.a.createElement(o.b,{to:"/prijava",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.button},"Prijavi se"))))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(G.a,{edge:"end",size:"small",color:"inherit","aria-label":"menu",onClick:function(){return l(!c)},className:a.button},r.a.createElement(ae.a,{fontSize:"large"})))))),r.a.createElement(Q.a,{anchor:"right",open:c,classes:{paper:a.drawer}},r.a.createElement(B.a,{maxWidth:"md"},r.a.createElement(S.a,{className:a.drawerToolbar},r.a.createElement(G.a,{edge:"end",size:"small",color:"inherit","aria-label":"menu",onClick:function(){return l(!c)},className:a.drawerButton},r.a.createElement(ne.a,{fontSize:"large"}))),r.a.createElement(D.a,{className:a.drawerButtonsBox},r.a.createElement(o.b,{to:"/",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.drawerButton},"Po\u010detna")),r.a.createElement(o.b,{to:"/oglasi/0?filterType=0&filterId=0&sortType=0&sortAsc=0",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.drawerButton},"Oglasi")),r.a.createElement(o.b,{to:"/poljoprivrednici?filterType=0&filterId=0&sortType=0&sortAsc=0",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.drawerButton},"Poljoprivrednici"))),r.a.createElement(H.a,null),r.a.createElement(D.a,{className:a.drawerButtonsBox},e.auth.isAuthenticated&&2===e.auth.user.userType?r.a.createElement(o.b,{to:"/kosarica",className:a.link},r.a.createElement(K.a,{title:"Ko\u0161arica"},r.a.createElement(G.a,{size:"small",color:"inherit",className:a.drawerButton},r.a.createElement(J.a,{badgeContent:u,color:"secondary"},r.a.createElement(oe.a,{fontSize:"default"}))))):r.a.createElement(r.a.Fragment,null),e.auth.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:a.buttonsBox},r.a.createElement(K.a,{title:"Ra\u010dun"},r.a.createElement(G.a,{size:"small",color:"primary",className:a.drawerButton,onClick:function(e){return E(e.currentTarget)}},r.a.createElement(ie.a,{fontSize:"large"}))),r.a.createElement(T.a,{variant:"subtitle2",className:a.textWhite},e.auth.user.name)),r.a.createElement(V.a,{anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){return E(null)}},r.a.createElement(o.b,{to:1===e.auth.user.userType?"/admin":2===e.auth.user.userType?"/profil_kupac/".concat(e.auth.user.userId):"/profil_poljoprivrednik/".concat(e.auth.user.userId),className:a.menuLink},r.a.createElement(Z.a,null,1===e.auth.user.userType?"Administracija":"Moj ra\u010dun")),r.a.createElement(Z.a,{onClick:function(){E(null),e.logout(),e.history.push("/")}},"Odjavi se"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/registracija",className:a.link},r.a.createElement(R.a,{variant:"contained",color:"primary",className:a.drawerRegisterButton},"Registriraj se")),r.a.createElement(o.b,{to:"/prijava",className:a.link},r.a.createElement(R.a,{color:"inherit",className:a.drawerButton},"Prijavi se")))))))}))),me=Object(C.a)((function(e){return{footer:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),backgroundColor:e.palette.primary.main,color:e.palette.background.paper,display:"flex",alignItems:"center"}}}));var ue=function(){var e=me();return r.a.createElement("div",{className:"Footer"},r.a.createElement(D.a,{className:e.footer},r.a.createElement(B.a,{maxwidth:"lg"},r.a.createElement(T.a,{variant:"body1",align:"center"},"\xa9 2020 Antonio Tonkovi\u0107"))))},pe=Object(C.a)((function(e){return{heroImage:{height:"94.1vh",backgroundImage:"url(".concat(W.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center"},heroImageOverlay:{height:"94.1vh",backgroundColor:"#0000006e",display:"flex"},heroText:{height:"20vh",marginTop:"30vh",color:"white"},subhero1:{backgroundColor:e.palette.background.paper,display:"flex",alignItems:"center"},subhero1Box:{paddingTop:e.spacing(9),paddingBottom:e.spacing(9),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},subhero1Image:{height:"40vh",backgroundImage:"url(".concat(q.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"top"},subhero1ContentBox:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},subhero1Text:{marginBottom:e.spacing(4)},subhero1Buttons:{width:"100%"},link:{textDecoration:"none"},button:{color:e.palette.background.paper},subhero2:{display:"flex",alignItems:"center"},subhero2Box:{paddingTop:e.spacing(7),paddingBottom:e.spacing(7),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},subhero2Text:{marginBottom:e.spacing(4)}}}));var de=function(){var e=pe();return r.a.createElement("div",{className:"HomePage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:e.heroImage},r.a.createElement(D.a,{className:e.heroImageOverlay},r.a.createElement(B.a,{maxwidth:"lg"},r.a.createElement(D.a,{className:e.heroText},r.a.createElement(T.a,{variant:"h1",align:"center",gutterBottom:!0},"Dobrodo\u0161li!"),r.a.createElement(T.a,{variant:"h4",align:"center"},"e-Tr\u017enica je online platforma za prodaju i kupovinu poljoprivrednih proizvoda"))))),r.a.createElement(D.a,{className:e.subhero1},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:e.subhero1Box},r.a.createElement(P.a,{container:!0,spacing:5,direction:"row",justify:"space-between",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,md:7},r.a.createElement(F.a,{elevation:2,className:e.subhero1Image})),r.a.createElement(P.a,{item:!0,xs:12,md:5},r.a.createElement(D.a,{className:e.subhero1ContentBox},r.a.createElement(D.a,{className:e.subhero1Text},r.a.createElement(T.a,{variant:"h4",align:"center",gutterBottom:!0},"Kupujte provjereno"),r.a.createElement(T.a,{variant:"body1",align:"center",gutterBottom:!0},"Budite sigurni u podrijetlo svoje hrane. Kupujte od provjerenih poljoprivrednika.")),r.a.createElement(D.a,{className:e.subhero1Buttons},r.a.createElement(P.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:3,md:6},r.a.createElement(o.b,{to:"/oglasi/0?filterType=0&filterId=0&sortType=0&sortAsc=0",className:e.link},r.a.createElement(R.a,{size:"large",variant:"contained",color:"primary",className:e.button},"Oglasi"))),r.a.createElement(P.a,{item:!0,xs:12,sm:3,md:6},r.a.createElement(o.b,{to:"/poljoprivrednici?filterType=0&filterId=0&sortType=0&sortAsc=0",className:e.link},r.a.createElement(R.a,{size:"large",variant:"contained",color:"primary",className:e.button},"Poljoprivrednici"))))))))))),r.a.createElement(D.a,{className:e.subhero2},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:e.subhero2Box},r.a.createElement(D.a,{className:e.subhero2Text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"Jednostavna i brza registracija"),r.a.createElement(T.a,{variant:"body1",gutterBottom:!0},"Registracija kupcima omogu\u0107uje naru\u010divanje proizvoda, a poljoprivrednicima kreiranje vlastitih oglasa.")),r.a.createElement(o.b,{to:"/registracija",className:e.link},r.a.createElement(R.a,{size:"large",variant:"contained",color:"primary",className:e.button},"Registriraj se"))))),r.a.createElement(ue,null))},fe=t(3),ge=t.n(fe),Ee=t(10),ve=t(227),he=t(255),be=t(246),ye=t(257),je=t(249),Ne=t(243),Ie=t(248),xe=t(129),_e=t.n(xe),ke=Object(C.a)((function(e){return{image:{minHeight:"100%",height:"auto",backgroundImage:"url(".concat(_e.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"top"},imageOverlay:{minHeight:"100%",height:"auto",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},formPaper:{marginTop:e.spacing(8),marginBottom:e.spacing(8),paddingLeft:e.spacing(5),paddingRight:e.spacing(5),paddingTop:e.spacing(8),paddingBottom:e.spacing(8),display:"flex",flexDirection:"column",justifyContent:"center"},form:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",justifyContent:"center"},formItem:{marginBottom:e.spacing(1)},formItemMargin:{marginBottom:e.spacing(4)},button:{marginTop:e.spacing(7),color:e.palette.background.paper}}}));var Oe=Object(s.b)((function(e){return{error:e.error}}),{register:function(e,a){return function(t){var n=JSON.stringify(e);I.a.post("/api/auth/register",n,{headers:{"Content-type":"application/json"}}).then((function(e){t({type:"REGISTER_SUCCESS",payload:e.data}),a(!0)})).catch((function(e){t(x(e.response.data.message,"REGISTER_FAIL")),t({type:"REGISTER_FAIL"}),a(!1)}))}},clearError:_})((function(e){var a=ke(),t=Object(n.useState)({userType:"",firstName:"",lastName:"",postalCodeLong:"",address:"",phoneNumber:"",email:"",password:"",farmerName:"",farmDesc:"",deliveryDays:""}),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)([]),s=Object(A.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)({message:"",isOpen:!1}),d=Object(A.a)(p,2),f=d[0],g=d[1];Object(n.useEffect)((function(){v()}),[]),Object(n.useEffect)((function(){e.error.message!==f.message&&("REGISTER_FAIL"===e.error.errorType?g({message:e.error.message,isOpen:!0}):g({message:"",isOpen:!1}))}),[e.error]);var v=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/register_page/post_offices").then((function(e){u(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"RegisterPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"sm"},r.a.createElement(F.a,{className:a.formPaper},r.a.createElement(T.a,{variant:"h3",align:"center",gutterBottom:!0},"Registrirajte se!"),r.a.createElement("form",{className:a.form,onSubmit:function(a){return function(a){a.preventDefault(),e.register({userType:parseInt(c.userType),firstName:c.firstName,lastName:c.lastName,postalCode:parseInt(c.postalCodeLong.split()[0]),address:c.address,phoneNumber:c.phoneNumber,email:c.email,password:c.password,farmerName:c.farmerName,farmDesc:c.farmDesc,deliveryDays:parseInt(c.deliveryDays)},(function(a){a&&(o({userType:"",firstName:"",lastName:"",postalCodeLong:"",address:"",phoneNumber:"",email:"",password:"",farmerName:"",farmDesc:"",deliveryDays:""}),e.clearError(),e.history.push("/"))}))}(a)}},r.a.createElement(ve.a,{variant:"filled",required:!0,className:"".concat(a.formItem," ").concat(a.formItemMargin)},r.a.createElement(he.a,{id:"user-type"},"Vrsta korisnika"),r.a.createElement(be.a,{labelId:"user-type",id:"userType",value:c.userType,onChange:function(e){o(Object(E.a)({},c,{userType:e.target.value}))}},r.a.createElement(Z.a,{value:2},"Kupac"),r.a.createElement(Z.a,{value:3},"Poljoprivrednik"))),r.a.createElement(T.a,{variant:"h6",gutterBottom:!0},"Osobni podaci:"),r.a.createElement(ye.a,{variant:"filled",id:"firstName",label:"Ime",required:!0,className:a.formItem,value:c.firstName,onChange:function(e){o(Object(E.a)({},c,{firstName:e.target.value}))}}),r.a.createElement(ye.a,{variant:"filled",id:"lastName",label:"Prezime",required:!0,className:a.formItem,value:c.lastName,onChange:function(e){o(Object(E.a)({},c,{lastName:e.target.value}))}}),r.a.createElement(ye.a,{variant:"filled",id:"address",label:"Adresa stanovanja",helperText:"npr. Unska ulica 3, Zagreb",required:!0,className:a.formItem,value:c.address,onChange:function(e){o(Object(E.a)({},c,{address:e.target.value}))}}),r.a.createElement(Ne.a,{id:"postalCodeLong",autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Po\u0161tanski broj",required:!0,className:a.formItemMargin}))},options:m.map((function(e){return e.post_broj+" "+e.naziv_post_ureda})).sort(),getOptionLabel:function(e){return e},value:c.postalCodeLong,onChange:function(e,a){o(Object(E.a)({},c,{postalCodeLong:a}))}}),""===c.userType||2===c.userType?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"h6",gutterBottom:!0},"Podaci o gospodarstvu:"),r.a.createElement(ye.a,{variant:"filled",id:"farmerName",label:"Ime gospodarstva",required:!0,className:a.formItem,value:c.farmerName,onChange:function(e){o(Object(E.a)({},c,{farmerName:e.target.value}))}}),r.a.createElement(ye.a,{variant:"filled",multiline:!0,rows:4,id:"farmDesc",label:"Opis gospodarstva",helperText:"Opis \u010dime se gospodarstvo bavi, \u0161to proizvodi te dodatni podaci",required:!0,className:a.formItem,value:3===c.userType?c.farmDesc:"",onChange:function(e){o(Object(E.a)({},c,{farmDesc:e.target.value}))}}),r.a.createElement(ye.a,{type:"number",variant:"filled",id:"deliveryDays",label:"Rok dostave u danima",required:!0,className:"".concat(a.formItem," ").concat(a.formItemMargin),value:3===c.userType?c.deliveryDays:"",onChange:function(e){o(Object(E.a)({},c,{deliveryDays:e.target.value}))}})),r.a.createElement(T.a,{variant:"h6",gutterBottom:!0},"Kontakt podaci:"),r.a.createElement(ye.a,{variant:"filled",id:"phoneNumber",label:"Broj telefona",required:!0,className:a.formItem,value:c.phoneNumber,onChange:function(e){o(Object(E.a)({},c,{phoneNumber:e.target.value}))}}),r.a.createElement(ye.a,{variant:"filled",type:"email",id:"email",label:"E-mail adresa",helperText:"Dodatno slu\u017ei i za prijavu u sustav",required:!0,className:"".concat(a.formItem," ").concat(a.formItemMargin),value:c.email,onChange:function(e){o(Object(E.a)({},c,{email:e.target.value}))}}),r.a.createElement(ye.a,{variant:"filled",type:"password",id:"password",label:"Lozinka",helperText:"Slu\u017ei za prijavu u sustav",required:!0,className:a.formItem,value:c.password,onChange:function(e){o(Object(E.a)({},c,{password:e.target.value}))}}),r.a.createElement(R.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:a.button},"Registriraj se")))))),r.a.createElement(je.a,{open:f.isOpen,autoHideDuration:4e3,onClose:function(a,t){"clickaway"!==t&&e.clearError()}},r.a.createElement(Ie.a,{severity:"error"},f.message)),r.a.createElement(ue,null))})),ze=t(130),we=t.n(ze),Ce=Object(C.a)((function(e){return{image:{minHeight:"89.25vh",height:"auto",backgroundImage:"url(".concat(we.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"top"},imageOverlay:{minHeight:"89.25vh",height:"auto",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},formPaper:{marginTop:e.spacing(8),marginBottom:e.spacing(8),paddingLeft:e.spacing(5),paddingRight:e.spacing(5),paddingTop:e.spacing(8),paddingBottom:e.spacing(8),display:"flex",flexDirection:"column",justifyContent:"center"},form:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",justifyContent:"center"},formItem:{marginBottom:e.spacing(1)},button:{marginTop:e.spacing(7),color:e.palette.background.paper}}}));var Se=Object(s.b)((function(e){return{error:e.error}}),{login:function(e,a){return function(t){var n=JSON.stringify(e);I.a.post("/api/auth/login",n,{headers:{"Content-type":"application/json"}}).then((function(e){t({type:"LOGIN_SUCCESS",payload:e.data}),a(!0)})).catch((function(e){t(x(e.response.data.message,"LOGIN_FAIL")),t({type:"LOGIN_FAIL"}),a(!1)}))}},clearError:_})((function(e){var a=Ce(),t=Object(n.useState)({email:"",password:""}),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)({message:"",isOpen:!1}),s=Object(A.a)(l,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){e.error.message!==m.message&&("LOGIN_FAIL"===e.error.errorType?u({message:e.error.message,isOpen:!0}):u({message:"",isOpen:!1}))}),[e.error]),r.a.createElement("div",{className:"LoginPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"sm"},r.a.createElement(F.a,{className:a.formPaper},r.a.createElement(T.a,{variant:"h3",align:"center",gutterBottom:!0},"Prijavite se!"),r.a.createElement("form",{className:a.form,onSubmit:function(a){return function(a){a.preventDefault(),e.login(c,(function(a){a&&(o({email:"",password:""}),e.clearError(),e.history.push("/"))}))}(a)}},r.a.createElement(ye.a,{variant:"filled",type:"email",id:"email",label:"E-mail adresa",required:!0,className:a.formItem,value:c.email,onChange:function(e){o(Object(E.a)({},c,{email:e.target.value}))}}),r.a.createElement(ye.a,{variant:"filled",type:"password",id:"password",label:"Lozinka",required:!0,className:a.formItem,value:c.password,onChange:function(e){o(Object(E.a)({},c,{password:e.target.value}))}}),r.a.createElement(R.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:a.button},"Prijavi se")))))),r.a.createElement(je.a,{open:m.isOpen,autoHideDuration:4e3,onClose:function(a,t){"clickaway"!==t&&e.clearError()}},r.a.createElement(Ie.a,{severity:"error"},m.message)),r.a.createElement(ue,null))})),De=t(78),Be=t.n(De),Te=t(79),Pe=t.n(Te),Fe=t(80),Re=t.n(Fe),Le=t(81),We=t.n(Le),Ue=Object(C.a)((function(e){return{pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex"},contentPaper:{marginTop:e.spacing(5),marginBottom:e.spacing(5),paddingLeft:e.spacing(5),paddingRight:e.spacing(5),display:"flex",flexDirection:"row",justifyContent:"space-between"},contentPaperXs:{marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"flex",flexDirection:"column",justifyContent:"space-around"},textBox:{paddingTop:e.spacing(5),paddingBottom:e.spacing(5),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},textBoxXs:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},text:{marginBottom:e.spacing(2)},link:{textDecoration:"none"},button:{color:e.palette.background.default},imageCategories:{width:"50%",backgroundImage:"url(".concat(Be.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},imageUnits:{width:"50%",backgroundImage:"url(".concat(Pe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},imagePostOffices:{width:"50%",backgroundImage:"url(".concat(Re.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},imageCounties:{width:"50%",backgroundImage:"url(".concat(We.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},imageCategoriesXs:{height:"20vh",backgroundImage:"url(".concat(Be.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},imageUnitsXs:{height:"20vh",backgroundImage:"url(".concat(Pe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},imagePostOfficesXs:{height:"20vh",backgroundImage:"url(".concat(Re.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},imageCountiesXs:{height:"20vh",backgroundImage:"url(".concat(We.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}}));var qe=Object(s.b)((function(e){return{auth:e.auth}}),null)((function(e){var a=Ue();return null===e.auth.user||null!==e.auth.user&&1!==e.auth.user.userType?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"AdminPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(B.a,{maxWidth:"md"},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(F.a,{elevation:5,className:a.contentPaper},r.a.createElement(D.a,{className:a.textBox},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"Vrste proizvoda")),r.a.createElement(o.b,{to:"/admin_vrste_proizvoda",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi"))),r.a.createElement(D.a,{className:a.imageCategories})),r.a.createElement(F.a,{elevation:5,className:a.contentPaper},r.a.createElement(D.a,{className:a.textBox},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"Mjerne jedinice")),r.a.createElement(o.b,{to:"/admin_mjerne_jedinice",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi"))),r.a.createElement(D.a,{className:a.imageUnits})),r.a.createElement(F.a,{elevation:5,className:a.contentPaper},r.a.createElement(D.a,{className:a.textBox},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"Po\u0161tanski uredi")),r.a.createElement(o.b,{to:"/admin_postanski_uredi",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi"))),r.a.createElement(D.a,{className:a.imagePostOffices})),r.a.createElement(F.a,{elevation:5,className:a.contentPaper},r.a.createElement(D.a,{className:a.textBox},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"\u017dupanije")),r.a.createElement(o.b,{to:"/admin_zupanije",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi"))),r.a.createElement(D.a,{className:a.imageCounties}))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(F.a,{elevation:5,className:a.contentPaperXs},r.a.createElement(D.a,{className:a.imageCategoriesXs}),r.a.createElement(D.a,{className:a.textBoxXs},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"Vrste proizvoda")),r.a.createElement(o.b,{to:"/admin_vrste_proizvoda",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi")))),r.a.createElement(F.a,{elevation:5,className:a.contentPaperXs},r.a.createElement(D.a,{className:a.imageUnitsXs}),r.a.createElement(D.a,{className:a.textBoxXs},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"Mjerne jedinice")),r.a.createElement(o.b,{to:"/admin_mjerne_jedinice",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi")))),r.a.createElement(F.a,{elevation:5,className:a.contentPaperXs},r.a.createElement(D.a,{className:a.imagePostOfficesXs}),r.a.createElement(D.a,{className:a.textBoxXs},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"Po\u0161tanski uredi")),r.a.createElement(o.b,{to:"/admin_postanski_uredi",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi")))),r.a.createElement(F.a,{elevation:5,className:a.contentPaperXs},r.a.createElement(D.a,{className:a.imageCountiesXs}),r.a.createElement(D.a,{className:a.textBoxXs},r.a.createElement(D.a,{className:a.text},r.a.createElement(T.a,{variant:"h4",gutterBottom:!0},"\u017dupanije")),r.a.createElement(o.b,{to:"/admin_zupanije",className:a.link},r.a.createElement(R.a,{size:"medium",variant:"contained",color:"primary",className:a.button},"Uredi"))))))),r.a.createElement(ue,null))})),Ae=t(254),Xe=t(230),Me=t(242),He=t(60),Ke=t.n(He),Ge=t(24),Je=t.n(Ge),Ve=t(25),Ze=t.n(Ve),Qe=t(38),Ye=t.n(Qe),$e=t(58),ea=t.n($e),aa=t(59),ta=t.n(aa),na=Object(C.a)((function(e){return{listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},iconDark:{color:e.palette.primary.dark},textXs:{width:"50%"}}}));var ra=function(e){var a=na(),t=Object(n.useState)({name:e.category.naziv_vrste_proizvoda,masterCategoryName:e.category.naziv_nadvrste_proizvoda}),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(!1),s=Object(A.a)(l,2),m=s[0],u=s[1];return r.a.createElement("div",{className:"AdminPageCategory"},r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(){var a=Object(Ee.a)(ge.a.mark((function a(t){return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.editCategory(t,c.masterCategoryName,c.name,e.category.sif_vrste_proizvoda);case 2:o({name:"",masterCategoryName:""}),u(!1);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u0160ifra"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.category.sif_vrste_proizvoda)),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(T.a,{variant:"body1",align:"center"},e.category.sif_vrste_proizvoda)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCategoryName",label:"Naziv",required:!0,value:c.name,onChange:function(e){o(Object(E.a)({},c,{name:e.target.value}))},className:a.textXs}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.category.naziv_vrste_proizvoda)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCategoryName",label:"Naziv",required:!0,value:c.name,onChange:function(e){o(Object(E.a)({},c,{name:e.target.value}))}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.category.naziv_vrste_proizvoda)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv nadvrste"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(Ne.a,{id:"newMasterCategory",fullWidth:!0,className:a.textXs,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",size:"small",label:"Naziv nadvrste",required:!0}))},options:e.categories.map((function(e){return e.naziv_vrste_proizvoda})).sort(),getOptionLabel:function(e){return e},value:c.masterCategoryName,onChange:function(e,a){o(Object(E.a)({},c,{masterCategoryName:a}))}}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.category.naziv_nadvrste_proizvoda)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(Ne.a,{id:"newMasterCategory",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",size:"small",label:"Naziv nadvrste",required:!0}))},options:e.categories.map((function(e){return e.naziv_vrste_proizvoda})).sort(),getOptionLabel:function(e){return e},value:c.masterCategoryName,onChange:function(e,a){o(Object(E.a)({},c,{masterCategoryName:a}))}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.category.naziv_nadvrste_proizvoda)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},m?r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){o({name:e.category.naziv_vrste_proizvoda,masterCategoryName:e.category.naziv_nadvrste_proizvoda}),u(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))):r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Uredi"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return setTimeout((function(){u(!0)}),500)}},r.a.createElement(ea.a,{fontSize:"inherit",className:a.iconDark}))),r.a.createElement(K.a,{title:"Obri\u0161i"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return e.deleteCategory(e.category.sif_vrste_proizvoda)}},r.a.createElement(ta.a,{fontSize:"inherit",color:"secondary"})))))))))},ia=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},image:{height:"15vh",backgroundImage:"url(".concat(Be.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginBottom:e.spacing(1)},imageOverlay:{height:"15vh",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},title:{color:e.palette.background.default},list:{display:"flex",flexDirection:"column",marginBottom:e.spacing(10)},listTitle:{padding:e.spacing(2)},listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},textXs:{width:"50%"},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var ca=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=ia(),t=Object(n.useState)([]),i=Object(A.a)(t,2),c=i[0],o=i[1],s=Object(n.useState)({name:"",masterCategoryName:""}),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(!1),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)(1),b=Object(A.a)(h,2),y=b[0],N=b[1],x=Object(n.useState)(1),_=Object(A.a)(x,2),O=_[0],z=_[1],w=Object(n.useState)({message:"",isOpen:!1}),C=Object(A.a)(w,2),R=C[0],L=C[1];Object(n.useEffect)((function(){W()}),[]),Object(n.useEffect)((function(){if(void 0!==c&&null!==c&&0!==c.length&&O>Math.ceil((c.length-1)/7)){var e=Math.ceil((c.length-1)/7);z(e)}}),[c]);var W=function(){I.a.get("/api/admin_page_categories/categories",k(j.getState)).then((function(e){var a=e.data;a.forEach((function(e){null===e.naziv_nadvrste_proizvoda&&(e.naziv_nadvrste_proizvoda="-")})),a.push({sif_vrste_proizvoda:"NULL",naziv_vrste_proizvoda:"-",sif_nadvrste_proizvoda:"NULL",naziv_nadvrste_proizvoda:"-"}),o(a)}))},U=function(e,a,t,n){e.preventDefault();var r=c.find((function(e){return e.naziv_vrste_proizvoda===a})).sif_vrste_proizvoda;I.a.put("/api/admin_page_categories/category",{categoryId:n,newCategoryName:t,newMasterCategoryId:r},k(j.getState)).catch((function(e){L({message:e.response.data.message,isOpen:!0})})).then((function(){""===R.message&&W()}))},q=function(e){I.a.delete("/api/admin_page_categories/category/".concat(e),k(j.getState)).catch((function(e){L({message:e.response.data.message,isOpen:!0})})).then((function(){""===R.message&&W()}))};return null===e.auth.user||null!==e.auth.user&&1!==e.auth.user.userType?r.a.createElement(l.a,{to:"/"}):null===c?r.a.createElement("div",{className:"AdminPageCategories"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper}),r.a.createElement(ue,null),r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))):r.a.createElement("div",{className:"AdminPageCategories"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(Ae.a,{className:a.backdrop,open:0===c.length},r.a.createElement(Xe.a,{color:"inherit"})),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h3",align:"center",className:a.title},"Vrste proizvoda")))),r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.list},r.a.createElement(D.a,{className:a.listTitle},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"\u0160ifra")),r.a.createElement(K.a,{title:"Sortiraj po \u0161ifri"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return N(1===y?-1:1)}},r.a.createElement(Ye.a,{fontSize:"small"}))))),r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Naziv")),r.a.createElement(K.a,{title:"Sortiraj po nazivu"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return N(2===y?-2:2)}},r.a.createElement(Ye.a,{fontSize:"small"}))))),r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Naziv nadvrste")),r.a.createElement(K.a,{title:"Sortiraj po nazivu nadvrste"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return N(3===y?-3:3)}},r.a.createElement(Ye.a,{fontSize:"small"})))))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Dodaj novu vrstu"))),r.a.createElement(K.a,{title:"Dodaj novu vrstu proizvoda"},r.a.createElement(G.a,{size:"medium",onClick:function(){return v(!0)}},r.a.createElement(Ke.a,{fontSize:"large",className:a.icon}))))))),g?r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var a=c.find((function(e){return e.naziv_vrste_proizvoda===u.masterCategoryName})).sif_vrste_proizvoda;I.a.post("/api/admin_page_categories/category",{categoryName:u.name,masterCategoryId:a},k(j.getState)).catch((function(e){L({message:e.response.data.message,isOpen:!0})})).then((function(){""===R.message&&(p({name:"",masterCategoryName:""}),v(!1),W())}))}(e)}},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u0160ifra"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},"-")),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(T.a,{variant:"body1",align:"center"},"-")))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCategoryName",label:"Naziv",required:!0,value:u.name,onChange:function(e){p(Object(E.a)({},u,{name:e.target.value}))},className:a.textXs})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCategoryName",label:"Naziv",required:!0,value:u.name,onChange:function(e){p(Object(E.a)({},u,{name:e.target.value}))}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv nadvrste"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(Ne.a,{id:"newMasterCategory",fullWidth:!0,className:a.textXs,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",size:"small",label:"Naziv nadvrste",required:!0}))},options:c.map((function(e){return e.naziv_vrste_proizvoda})).sort(),getOptionLabel:function(e){return e},value:u.masterCategoryName,onChange:function(e,a){p(Object(E.a)({},u,{masterCategoryName:a}))}})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(Ne.a,{id:"newMasterCategory",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",size:"small",label:"Naziv nadvrste",required:!0}))},options:c.map((function(e){return e.naziv_vrste_proizvoda})).sort(),getOptionLabel:function(e){return e},value:u.masterCategoryName,onChange:function(e,a){p(Object(E.a)({},u,{masterCategoryName:a}))}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){p({name:"",masterCategoryName:""}),v(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))))))):r.a.createElement(r.a.Fragment,null),null!==c&&0!==c.length?r.a.createElement(r.a.Fragment,null,c.sort((function(e,a){return 1===y?e.sif_vrste_proizvoda<a.sif_vrste_proizvoda?-1:e.sif_vrste_proizvoda>a.sif_vrste_proizvoda?1:0:-1===y?e.sif_vrste_proizvoda<a.sif_vrste_proizvoda?1:e.sif_vrste_proizvoda>a.sif_vrste_proizvoda?-1:0:2===y?e.naziv_vrste_proizvoda<a.naziv_vrste_proizvoda?-1:e.naziv_vrste_proizvoda>a.naziv_vrste_proizvoda?1:0:-2===y?e.naziv_vrste_proizvoda<a.naziv_vrste_proizvoda?1:e.naziv_vrste_proizvoda>a.naziv_vrste_proizvoda?-1:0:3===y?e.naziv_nadvrste_proizvoda<a.naziv_nadvrste_proizvoda?-1:e.naziv_nadvrste_proizvoda>a.naziv_nadvrste_proizvoda?1:0:e.naziv_nadvrste_proizvoda<a.naziv_nadvrste_proizvoda?1:e.naziv_nadvrste_proizvoda>a.naziv_nadvrste_proizvoda?-1:0})).slice(7*(O-1),7*(O-1)+7).map((function(e){return"-"!==e.naziv_vrste_proizvoda?r.a.createElement(ra,{key:e.sif_vrste_proizvoda,categories:c,category:e,editCategory:U,deleteCategory:q}):r.a.createElement(r.a.Fragment,{key:e.sif_vrste_proizvoda})})),c.length<=7?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil((c.length-1)/7),defaultPage:1,page:O,onChange:function(e,a){return z(a)}}))):r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))))),r.a.createElement(je.a,{open:R.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&L({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"error"},R.message)),r.a.createElement(ue,null))})),oa=Object(C.a)((function(e){return{listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},iconDark:{color:e.palette.primary.dark},textXs:{width:"50%"}}}));var la=function(e){var a=oa(),t=Object(n.useState)({name:e.unit.oznaka_mjerne_jedinice}),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(!1),s=Object(A.a)(l,2),m=s[0],u=s[1];return r.a.createElement("div",{className:"AdminPageUnit"},r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(){var a=Object(Ee.a)(ge.a.mark((function a(t){return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.editUnit(t,e.unit.sif_mjerne_jedinice,c.name);case 2:o({name:""}),u(!1);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u0160ifra"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.unit.sif_mjerne_jedinice)),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(T.a,{variant:"body1",align:"center"},e.unit.sif_mjerne_jedinice)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Oznaka"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newUnitName",label:"Oznaka",required:!0,value:c.name,onChange:function(e){o({name:e.target.value})},className:a.textXs}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.unit.oznaka_mjerne_jedinice)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newUnitName",label:"Oznaka",required:!0,value:c.name,onChange:function(e){o({name:e.target.value})}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.unit.oznaka_mjerne_jedinice)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},m?r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){o({name:e.unit.oznaka_mjerne_jedinice}),u(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))):r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Uredi"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return setTimeout((function(){u(!0)}),500)}},r.a.createElement(ea.a,{fontSize:"inherit",className:a.iconDark}))),r.a.createElement(K.a,{title:"Obri\u0161i"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return e.deleteUnit(e.unit.sif_mjerne_jedinice)}},r.a.createElement(ta.a,{fontSize:"inherit",color:"secondary"})))))))))},sa=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},image:{height:"15vh",backgroundImage:"url(".concat(Pe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginBottom:e.spacing(1)},imageOverlay:{height:"15vh",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},title:{color:e.palette.background.default},list:{display:"flex",flexDirection:"column",marginBottom:e.spacing(10)},listTitle:{padding:e.spacing(2)},listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},textXs:{width:"50%"},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var ma=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=sa(),t=Object(n.useState)([]),i=Object(A.a)(t,2),c=i[0],o=i[1],s=Object(n.useState)({name:""}),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(!1),f=Object(A.a)(d,2),g=f[0],E=f[1],v=Object(n.useState)(1),h=Object(A.a)(v,2),b=h[0],y=h[1],N=Object(n.useState)(1),x=Object(A.a)(N,2),_=x[0],O=x[1],z=Object(n.useState)({message:"",isOpen:!1}),w=Object(A.a)(z,2),C=w[0],R=w[1];Object(n.useEffect)((function(){L()}),[]),Object(n.useEffect)((function(){if(void 0!==c&&null!==c&&0!==c.length&&_>Math.ceil(c.length/7)){var e=Math.ceil(c.length/7);O(e)}}),[c]);var L=function(){I.a.get("/api/admin_page_units/units",k(j.getState)).then((function(e){o(e.data)}))},W=function(e,a,t){e.preventDefault(),I.a.put("/api/admin_page_units/unit",{unitId:a,newUnitName:t},k(j.getState)).catch((function(e){R({message:e.response.data.message,isOpen:!0})})).then((function(){""===C.message&&L()}))},U=function(e){I.a.delete("/api/admin_page_units/unit/".concat(e),k(j.getState)).catch((function(e){R({message:e.response.data.message,isOpen:!0})})).then((function(){""===C.message&&L()}))};return null===e.auth.user||null!==e.auth.user&&1!==e.auth.user.userType?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"AdminPageUnits"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(Ae.a,{className:a.backdrop,open:0===c.length},r.a.createElement(Xe.a,{color:"inherit"})),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h3",align:"center",className:a.title},"Mjerne jedinice")))),r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.list},r.a.createElement(D.a,{className:a.listTitle},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"\u0160ifra")),r.a.createElement(K.a,{title:"Sortiraj po \u0161ifri"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return y(1===b?-1:1)}},r.a.createElement(Ye.a,{fontSize:"small"}))))),r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Oznaka")),r.a.createElement(K.a,{title:"Sortiraj po oznaci"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return y(2===b?-2:2)}},r.a.createElement(Ye.a,{fontSize:"small"})))))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Dodaj novu mjernu jedinicu"))),r.a.createElement(K.a,{title:"Dodaj novu mjernu jedinicu"},r.a.createElement(G.a,{size:"medium",onClick:function(){return E(!0)}},r.a.createElement(Ke.a,{fontSize:"large",className:a.icon}))))))),g?r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),I.a.post("/api/admin_page_units/unit",{unitName:u.name},k(j.getState)).catch((function(e){R({message:e.response.data.message,isOpen:!0})})).then((function(){""===C.message&&(p({name:""}),E(!1),L())}))}(e)}},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u0160ifra"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},"-")),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(T.a,{variant:"body1",align:"center"},"-")))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Oznaka"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newUnitName",label:"Oznaka",required:!0,value:u.name,onChange:function(e){p({name:e.target.value})},className:a.textXs})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newUnitName",label:"Oznaka",required:!0,value:u.name,onChange:function(e){p({name:e.target.value})}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){p({name:""}),E(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))))))):r.a.createElement(r.a.Fragment,null),null!==c&&0!==c.length?r.a.createElement(r.a.Fragment,null,c.sort((function(e,a){return 1===b?e.sif_mjerne_jedinice<a.sif_mjerne_jedinice?-1:e.sif_mjerne_jedinice>a.sif_mjerne_jedinice?1:0:-1===b?e.sif_mjerne_jedinice<a.sif_mjerne_jedinice?1:e.sif_mjerne_jedinice>a.sif_mjerne_jedinice?-1:0:2===b?e.oznaka_mjerne_jedinice<a.oznaka_mjerne_jedinice?-1:e.oznaka_mjerne_jedinice>a.oznaka_mjerne_jedinice?1:0:e.oznaka_mjerne_jedinice<a.oznaka_mjerne_jedinice?1:e.oznaka_mjerne_jedinice>a.oznaka_mjerne_jedinice?-1:0})).slice(7*(_-1),7*(_-1)+7).map((function(e){return r.a.createElement(la,{key:e.sif_mjerne_jedinice,unit:e,editUnit:W,deleteUnit:U})})),c.length<=7?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(c.length/7),defaultPage:1,page:_,onChange:function(e,a){return O(a)}}))):r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))))),r.a.createElement(je.a,{open:C.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&R({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"error"},C.message)),r.a.createElement(ue,null))})),ua=Object(C.a)((function(e){return{listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},iconDark:{color:e.palette.primary.dark},textXs:{width:"50%"}}}));var pa=function(e){var a=ua(),t=Object(n.useState)({postalCode:e.postOffice.post_broj,postOfficeName:e.postOffice.naziv_post_ureda,countyId:e.postOffice.sif_zupanije}),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(!1),s=Object(A.a)(l,2),m=s[0],u=s[1];return r.a.createElement("div",{className:"AdminPagePostOffice"},r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(){var a=Object(Ee.a)(ge.a.mark((function a(t){return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.editPostOffice(t,e.postOffice.post_broj,c.postalCode,c.postOfficeName,c.countyId);case 2:o({postalCode:"",postOfficeName:"",countyId:""}),u(!1);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Po\u0161tanski broj"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newPostalCode",label:"Po\u0161tanski broj",required:!0,value:c.postalCode,onChange:function(e){o(Object(E.a)({},c,{postalCode:e.target.value}))},className:a.textXs}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.postOffice.post_broj)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newPostalCode",label:"Po\u0161tanski broj",required:!0,value:c.postalCode,onChange:function(e){o(Object(E.a)({},c,{postalCode:e.target.value}))}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.postOffice.post_broj)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv po\u0161tanskog ureda"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newPostOfficeName",label:"Naziv po\u0161t. ureda",required:!0,value:c.postOfficeName,onChange:function(e){o(Object(E.a)({},c,{postOfficeName:e.target.value}))},className:a.textXs}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.postOffice.naziv_post_ureda)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newPostOfficeName",label:"Naziv po\u0161tanskog ureda",required:!0,value:c.postOfficeName,onChange:function(e){o(Object(E.a)({},c,{postOfficeName:e.target.value}))}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.postOffice.naziv_post_ureda)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u017dupanija"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(Ne.a,{id:"newCountyId",size:"small",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija",required:!0}))},options:e.counties.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:""===c.countyId?"":e.counties.find((function(e){return e.sif_zupanije===parseInt(c.countyId)})).naziv_zupanije,onChange:function(a,t){o(Object(E.a)({},c,{countyId:e.counties.find((function(e){return e.naziv_zupanije===t})).sif_zupanije}))},className:a.textXs}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.postOffice.naziv_zupanije)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(Ne.a,{id:"newCountyId",size:"small",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija",required:!0}))},options:e.counties.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:""===c.countyId?"":e.counties.find((function(e){return e.sif_zupanije===parseInt(c.countyId)})).naziv_zupanije,onChange:function(a,t){o(Object(E.a)({},c,{countyId:e.counties.find((function(e){return e.naziv_zupanije===t})).sif_zupanije}))}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.postOffice.naziv_zupanije)))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},m?r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){o({postalCode:e.postOffice.post_broj,postOfficeName:e.postOffice.naziv_post_ureda,countyId:e.postOffice.sif_zupanije}),u(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))):r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Uredi"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return setTimeout((function(){u(!0)}),500)}},r.a.createElement(ea.a,{fontSize:"inherit",className:a.iconDark}))),r.a.createElement(K.a,{title:"Obri\u0161i"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return e.deletePostOffice(e.postOffice.post_broj)}},r.a.createElement(ta.a,{fontSize:"inherit",color:"secondary"})))))))))},da=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},image:{height:"15vh",backgroundImage:"url(".concat(Re.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginBottom:e.spacing(1)},imageOverlay:{height:"15vh",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},title:{color:e.palette.background.default},list:{display:"flex",flexDirection:"column",marginBottom:e.spacing(10)},listTitle:{padding:e.spacing(2)},listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},textXs:{width:"50%"},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var fa=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=da(),t=Object(n.useState)([]),i=Object(A.a)(t,2),c=i[0],o=i[1],s=Object(n.useState)([]),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)({postalCode:"",postOfficeName:"",countyId:""}),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)(!1),b=Object(A.a)(h,2),y=b[0],N=b[1],x=Object(n.useState)(1),_=Object(A.a)(x,2),O=_[0],z=_[1],w=Object(n.useState)(1),C=Object(A.a)(w,2),R=C[0],L=C[1],W=Object(n.useState)({message:"",isOpen:!1}),U=Object(A.a)(W,2),q=U[0],X=U[1];Object(n.useEffect)((function(){H(),J()}),[]),Object(n.useEffect)((function(){if(void 0!==u&&null!==u&&0!==u.length&&R>Math.ceil(u.length/7)){var e=Math.ceil(u.length/7);L(e)}}),[u]);var H=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.a.get("/api/admin_page_post_offices/post_offices",k(j.getState)).then((function(e){p(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.a.get("/api/farmers_page/counties").then((function(e){o(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e,a,t,n,r){e.preventDefault(),I.a.put("/api/admin_page_post_offices/post_office",{oldPostalCode:parseInt(a),newPostalCode:parseInt(t),newPostOfficeName:n.toUpperCase(),newCountyId:parseInt(r)},k(j.getState)).catch((function(e){X({message:e.response.data.message,isOpen:!0})})).then((function(){""===q.message&&H()}))},Z=function(e){I.a.delete("/api/admin_page_post_offices/post_office/".concat(parseInt(e)),k(j.getState)).catch((function(e){X({message:e.response.data.message,isOpen:!0})})).then((function(){""===q.message&&H()}))};return null===e.auth.user||null!==e.auth.user&&1!==e.auth.user.userType?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"AdminPagePostOffices"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(Ae.a,{className:a.backdrop,open:0===u.length},r.a.createElement(Xe.a,{color:"inherit"})),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h3",align:"center",className:a.title},"Po\u0161tanski uredi")))),r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.list},r.a.createElement(D.a,{className:a.listTitle},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Po\u0161tanski broj")),r.a.createElement(K.a,{title:"Sortiraj po po\u0161tanskom broju"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return z(1===O?-1:1)}},r.a.createElement(Ye.a,{fontSize:"small"}))))),r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Naziv po\u0161tanskog ureda")),r.a.createElement(K.a,{title:"Sortiraj po nazivu po\u0161tanskog ureda"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return z(2===O?-2:2)}},r.a.createElement(Ye.a,{fontSize:"small"}))))),r.a.createElement(P.a,{item:!0,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"\u017dupanija")),r.a.createElement(K.a,{title:"Sortiraj po \u017eupaniji"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return z(3===O?-3:3)}},r.a.createElement(Ye.a,{fontSize:"small"})))))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Dodaj novi po\u0161tanski ured"))),r.a.createElement(K.a,{title:"Dodaj novi po\u0161tanski ured"},r.a.createElement(G.a,{size:"medium",onClick:function(){return N(!0)}},r.a.createElement(Ke.a,{fontSize:"large",className:a.icon}))))))),y?r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),I.a.post("/api/admin_page_post_offices/post_office",{postalCode:parseInt(g.postalCode),postOfficeName:g.postOfficeName.toUpperCase(),countyId:parseInt(g.countyId)},k(j.getState)).catch((function(e){X({message:e.response.data.message,isOpen:!0})})).then((function(){""===q.message&&(v({postalCode:"",postOfficeName:"",countyId:""}),N(!1),H())}))}(e)}},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Po\u0161tanski broj"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newPostalCode",label:"Po\u0161tanski broj",required:!0,value:g.postalCode,onChange:function(e){v(Object(E.a)({},g,{postalCode:e.target.value}))},className:a.textXs})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newPostalCode",label:"Po\u0161tanski broj",required:!0,value:g.postalCode,onChange:function(e){v(Object(E.a)({},g,{postalCode:e.target.value}))}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv po\u0161tanskog ureda"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newPostOfficeName",label:"Naziv po\u0161t. ureda",required:!0,value:g.postOfficeName,onChange:function(e){v(Object(E.a)({},g,{postOfficeName:e.target.value}))},className:a.textXs})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newPostOfficeName",label:"Naziv po\u0161tanskog ureda",required:!0,value:g.postOfficeName,onChange:function(e){v(Object(E.a)({},g,{postOfficeName:e.target.value}))}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u017dupanija"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(Ne.a,{id:"newCountyId",size:"small",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija",required:!0}))},options:c.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:""===g.countyId?"":c.find((function(e){return e.sif_zupanije===parseInt(g.countyId)})).naziv_zupanije,onChange:function(e,a){v(Object(E.a)({},g,{countyId:c.find((function(e){return e.naziv_zupanije===a})).sif_zupanije}))},className:a.textXs})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(Ne.a,{id:"newCountyId",size:"small",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija",required:!0}))},options:c.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:""===g.countyId?"":c.find((function(e){return e.sif_zupanije===parseInt(g.countyId)})).naziv_zupanije,onChange:function(e,a){v(Object(E.a)({},g,{countyId:c.find((function(e){return e.naziv_zupanije===a})).sif_zupanije}))}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:3},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){v({postalCode:"",postOfficeName:"",countyId:""}),N(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))))))):r.a.createElement(r.a.Fragment,null),null!==u&&0!==u.length?r.a.createElement(r.a.Fragment,null,u.sort((function(e,a){return 1===O?e.post_broj<a.post_broj?-1:e.post_broj>a.post_broj?1:0:-1===O?e.post_broj<a.post_broj?1:e.post_broj>a.post_broj?-1:0:2===O?new Intl.Collator("hr").compare(e.naziv_post_ureda,a.naziv_post_ureda):-2===O?-1*new Intl.Collator("hr").compare(e.naziv_post_ureda,a.naziv_post_ureda):3===O?new Intl.Collator("hr").compare(e.naziv_zupanije,a.naziv_zupanije):-1*new Intl.Collator("hr").compare(e.naziv_zupanije,a.naziv_zupanije)})).slice(7*(R-1),7*(R-1)+7).map((function(e){return r.a.createElement(pa,{key:e.post_broj,postOffice:e,counties:c,editPostOffice:V,deletePostOffice:Z})})),u.length<=7?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.length/7),defaultPage:1,page:R,onChange:function(e,a){return L(a)}}))):r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))))),r.a.createElement(je.a,{open:q.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&X({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"error"},q.message)),r.a.createElement(ue,null))})),ga=Object(C.a)((function(e){return{listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},iconDark:{color:e.palette.primary.dark},textXs:{width:"50%"}}}));var Ea=function(e){var a=ga(),t=Object(n.useState)({countyId:e.county.sif_zupanije,countyName:e.county.naziv_zupanije}),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(!1),s=Object(A.a)(l,2),m=s[0],u=s[1];return r.a.createElement("div",{className:"AdminPageCounty"},r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(){var a=Object(Ee.a)(ge.a.mark((function a(t){return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.editCounty(t,e.county.sif_zupanije,c.countyId,c.countyName);case 2:o({countyId:"",countyName:""}),u(!1);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u0160ifra"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newCountyId",label:"\u0160ifra",required:!0,value:c.countyId,onChange:function(e){o(Object(E.a)({},c,{countyId:e.target.value}))},className:a.textXs}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.county.sif_zupanije)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newCountyId",label:"\u0160ifra",required:!0,value:c.countyId,onChange:function(e){o(Object(E.a)({},c,{countyId:e.target.value}))}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.county.sif_zupanije)))),r.a.createElement(P.a,{item:!0,xs:12,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv"))),r.a.createElement(M.a,{smUp:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCountyName",label:"Naziv",required:!0,value:c.countyName,onChange:function(e){o(Object(E.a)({},c,{countyName:e.target.value}))},className:a.textXs}):r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},e.county.naziv_zupanije)),r.a.createElement(M.a,{xsDown:!0},m?r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCountyName",label:"Naziv",required:!0,value:c.countyName,onChange:function(e){o(Object(E.a)({},c,{countyName:e.target.value}))}}):r.a.createElement(T.a,{variant:"body1",align:"center"},e.county.naziv_zupanije)))),r.a.createElement(P.a,{item:!0,xs:12,sm:4},m?r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){o({countyId:e.county.sif_zupanije,countyName:e.county.naziv_zupanije}),u(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))):r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Uredi"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return setTimeout((function(){u(!0)}),500)}},r.a.createElement(ea.a,{fontSize:"inherit",className:a.iconDark}))),r.a.createElement(K.a,{title:"Obri\u0161i"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){return e.deleteCounty(e.county.sif_zupanije)}},r.a.createElement(ta.a,{fontSize:"inherit",color:"secondary"})))))))))},va=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},image:{height:"15vh",backgroundImage:"url(".concat(We.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginBottom:e.spacing(1)},imageOverlay:{height:"15vh",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},title:{color:e.palette.background.default},list:{display:"flex",flexDirection:"column",marginBottom:e.spacing(10)},listTitle:{padding:e.spacing(2)},listItem:{marginBottom:e.spacing(1),padding:e.spacing(2)},gridItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{color:e.palette.primary.main},textXs:{width:"50%"},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var ha=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=va(),t=Object(n.useState)([]),i=Object(A.a)(t,2),c=i[0],o=i[1],s=Object(n.useState)({countyId:"",countyName:""}),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(!1),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)(1),b=Object(A.a)(h,2),y=b[0],N=b[1],x=Object(n.useState)(1),_=Object(A.a)(x,2),O=_[0],z=_[1],w=Object(n.useState)({message:"",isOpen:!1}),C=Object(A.a)(w,2),R=C[0],L=C[1];Object(n.useEffect)((function(){W()}),[]),Object(n.useEffect)((function(){if(void 0!==c&&null!==c&&0!==c.length&&O>Math.ceil(c.length/7)){var e=Math.ceil(c.length/7);z(e)}}),[c]);var W=function(){I.a.get("/api/admin_page_counties/counties",k(j.getState)).then((function(e){o(e.data)}))},U=function(e,a,t,n){e.preventDefault(),I.a.put("/api/admin_page_counties/county",{oldCountyId:parseInt(a),newCountyId:parseInt(t),newCountyName:n},k(j.getState)).catch((function(e){L({message:e.response.data.message,isOpen:!0})})).then((function(){""===R.message&&W()}))},q=function(e){I.a.delete("/api/admin_page_counties/county/".concat(parseInt(e)),k(j.getState)).catch((function(e){L({message:e.response.data.message,isOpen:!0})})).then((function(){""===R.message&&W()}))};return null===e.auth.user||null!==e.auth.user&&1!==e.auth.user.userType?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"AdminPageCounties"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(Ae.a,{className:a.backdrop,open:0===c.length},r.a.createElement(Xe.a,{color:"inherit"})),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h3",align:"center",className:a.title},"\u017dupanije")))),r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.list},r.a.createElement(D.a,{className:a.listTitle},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(P.a,{item:!0,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"\u0160ifra")),r.a.createElement(K.a,{title:"Sortiraj po \u0161ifri"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return N(1===y?-1:1)}},r.a.createElement(Ye.a,{fontSize:"small"}))))),r.a.createElement(P.a,{item:!0,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Naziv")),r.a.createElement(K.a,{title:"Sortiraj po nazivu"},r.a.createElement(G.a,{size:"small",color:"inherit",onClick:function(){return N(2===y?-2:2)}},r.a.createElement(Ye.a,{fontSize:"small"})))))),r.a.createElement(P.a,{item:!0,xs:12,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1"},r.a.createElement("strong",null,"Dodaj novu \u017eupaniju"))),r.a.createElement(K.a,{title:"Dodaj novu \u017eupaniju"},r.a.createElement(G.a,{size:"medium",onClick:function(){return v(!0)}},r.a.createElement(Ke.a,{fontSize:"large",className:a.icon}))))))),g?r.a.createElement(F.a,{elevation:3,className:a.listItem},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),I.a.post("/api/admin_page_counties/county",{countyId:parseInt(u.countyId),countyName:u.countyName},k(j.getState)).catch((function(e){L({message:e.response.data.message,isOpen:!0})})).then((function(){""===R.message&&(p({countyId:"",countyName:""}),v(!1),W())}))}(e)}},r.a.createElement(P.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",align:"center"},r.a.createElement(P.a,{item:!0,xs:12,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"\u0160ifra"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newCountyId",label:"\u0160ifra",required:!0,value:u.countyId,onChange:function(e){p(Object(E.a)({},u,{countyId:e.target.value}))},className:a.textXs})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(ye.a,{type:"number",variant:"filled",size:"small",fullWidth:!0,id:"newCountyId",label:"\u0160ifra",required:!0,value:u.countyId,onChange:function(e){p(Object(E.a)({},u,{countyId:e.target.value}))}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(M.a,{smUp:!0},r.a.createElement(T.a,{variant:"body1",align:"center",className:a.textXs},r.a.createElement("strong",null,"Naziv"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCountyName",label:"Naziv",required:!0,value:u.countyName,onChange:function(e){p(Object(E.a)({},u,{countyName:e.target.value}))},className:a.textXs})),r.a.createElement(M.a,{xsDown:!0},r.a.createElement(ye.a,{variant:"filled",size:"small",fullWidth:!0,id:"newCountyName",label:"Naziv",required:!0,value:u.countyName,onChange:function(e){p(Object(E.a)({},u,{countyName:e.target.value}))}})))),r.a.createElement(P.a,{item:!0,xs:12,sm:4},r.a.createElement(D.a,{className:a.gridItem},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){p({countyId:"",countyName:""}),v(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"})))))))):r.a.createElement(r.a.Fragment,null),null!==c&&0!==c.length?r.a.createElement(r.a.Fragment,null,c.sort((function(e,a){return 1===y?e.sif_zupanije<a.sif_zupanije?-1:e.sif_zupanije>a.sif_zupanije?1:0:-1===y?e.sif_zupanije<a.sif_zupanije?1:e.sif_zupanije>a.sif_zupanije?-1:0:2===y?new Intl.Collator("hr").compare(e.naziv_zupanije,a.naziv_zupanije):-1*new Intl.Collator("hr").compare(e.naziv_zupanije,a.naziv_zupanije)})).slice(7*(O-1),7*(O-1)+7).map((function(e){return r.a.createElement(Ea,{key:e.sif_zupanije,county:e,editCounty:U,deleteCounty:q})})),c.length<=7?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(c.length/7),defaultPage:1,page:O,onChange:function(e,a){return z(a)}}))):r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))))),r.a.createElement(je.a,{open:R.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&L({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"error"},R.message)),r.a.createElement(ue,null))})),ba=t(35),ya=t(258),ja=t(231),Na=t(232),Ia=t(233),xa=t(234),_a=t(235),ka=t(43),Oa=t.n(ka),za=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary},card:{maxWidth:345},image:{height:140},noImage:{height:140,backgroundColor:e.palette.text.disabled,color:e.palette.background.default,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},orderInfo:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},orderInfoCenter:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},columnItem:{marginRight:e.spacing(1)},priceInfo:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}}}));var wa=Object(s.b)((function(e){return{auth:e.auth}}),null)((function(e){var a=za();return void 0===e.product||null===e.product?null:r.a.createElement("div",{className:"ProductCardFarmer"},r.a.createElement(ja.a,{className:a.card},r.a.createElement(o.b,{to:"/oglas/".concat(e.product.sif_oglasa),className:a.link},r.a.createElement(Na.a,null,void 0!==e.product.slike&&0!==e.product.slike.length?r.a.createElement(Ia.a,{className:a.image,image:e.product.slike[0].url_slike,title:e.product.naziv_vrste_proizvoda}):r.a.createElement(D.a,{className:a.noImage},r.a.createElement(Oa.a,{style:{fontSize:"64px"}})),r.a.createElement(xa.a,null,r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"h5",component:"h2"},e.product.naziv_vrste_proizvoda)),r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"body2"},e.product.opis_oglasa)),r.a.createElement(D.a,{className:a.orderInfoCenter},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Cijena:"),r.a.createElement(D.a,{className:a.priceInfo},r.a.createElement(T.a,{variant:"h5",style:{marginRight:"8px"}},e.product.cijena),r.a.createElement(T.a,{variant:"body2"},"kn/",e.product.oznaka_mjerne_jedinice))),r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Ocjena:"),r.a.createElement(ya.a,{value:e.product.rating,size:"medium",precision:.5,readOnly:!0}))))),null===e.auth.user||e.auth.user.userId!==parseInt(e.farmerId)?r.a.createElement(r.a.Fragment,null):r.a.createElement(_a.a,null,r.a.createElement(o.b,{to:"/oglas/".concat(e.product.sif_oglasa),className:a.link},r.a.createElement(R.a,{size:"small",color:"inherit"},"Uredi")),r.a.createElement(R.a,{size:"small",color:"inherit",onClick:function(){return e.deleteProduct(e.product.sif_oglasa)}},"Obri\u0161i"))))})),Ca=t(236),Sa=t(247),Da=Object(C.a)((function(e){return{card:{maxWidth:345},image:{height:140},noImage:{height:140,backgroundColor:e.palette.text.disabled,color:e.palette.background.default,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},productInfo:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},columnItem:{marginRight:e.spacing(1)},rowItem:{marginBottom:e.spacing(1)},buyer:{display:"flex",flexDirection:"column"},loadingOverlay:{filter:"brightness(90%)"}}}));var Ba=function(e){var a=Da(),t=Object(n.useState)(null),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(null),s=Object(A.a)(l,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){var a=e.order.datum_narudzbe.split(". "),t=new Date(a[2],a[1]-1,a[0]);t.setDate(t.getDate()+e.deliveryDays),t=t.toLocaleDateString("hr-HR"),o(t),u(e.order.dostavljena)}),[e.order.datum_narudzbe,e.deliveryDays,e.order.dostavljena]),void 0===e.order||null===e.order?null:r.a.createElement("div",{className:"OrderCardFarmer"},r.a.createElement(ja.a,{className:m?"".concat(a.card," ").concat(a.loadingOverlay):"".concat(a.card)},r.a.createElement(Na.a,null,void 0!==e.order.slike&&0!==e.order.slike.length?r.a.createElement(M.a,{smDown:!0},r.a.createElement(Ia.a,{className:a.image,image:e.order.slike[0].url_slike,title:e.order.naziv_vrste_proizvoda})):r.a.createElement(D.a,{className:a.noImage},r.a.createElement(Oa.a,{style:{fontSize:"64px"}})),r.a.createElement(xa.a,null,r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"h5",component:"h2"},e.order.naziv_vrste_proizvoda)),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Kupac:"),r.a.createElement(D.a,{className:a.buyer},r.a.createElement(T.a,{variant:"body2"},e.order.ime," ",e.order.prezime),r.a.createElement(T.a,{variant:"body2"},e.order.adresa_stanovanja),r.a.createElement(T.a,{variant:"body2",className:a.rowItem},e.order.pbr_mjesta_stanovanja,","," ",e.order.naziv_post_ureda),r.a.createElement(T.a,{variant:"body2"},e.order.broj_telefona),r.a.createElement(T.a,{variant:"body2"},e.order.email))),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Koli\u010dina:"),r.a.createElement(T.a,{variant:"body2"},e.order.kolicina," ",e.order.oznaka_mjerne_jedinice)),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Cijena:"),r.a.createElement(T.a,{variant:"body2"},e.order.kolicina*e.order.cijena," kn")),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},m?"Dostavljeno:":"Dostaviti do:"),r.a.createElement(T.a,{variant:"body2"},m?e.order.datum_dostave:c)))),r.a.createElement(_a.a,null,r.a.createElement(Ca.a,{control:r.a.createElement(Sa.a,{checked:m,onChange:function(a){m||(u(!m),e.setOrderIsDelivered(e.order.sif_narudzbe,a.target.checked))},name:"orderIsDelivered",color:"primary"}),label:"Dostavljeno"}))))},Ta=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.background.paper},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},button:{color:e.palette.background.paper},horizontalScroll:{display:"flex",overflowX:"auto",maxHeight:"50vh",maxWidth:"100%",justifyItems:"space-around"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},sectionPaper:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.paper},section:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5)},sectionTitle:{marginBottom:e.spacing(3)},sectionTitleFlex:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing(3)},sectionTitleFlexStart:{display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"space-between",marginBottom:e.spacing(3)},subSection:{marginBottom:e.spacing(3)},subSectionTitle:{marginBottom:e.spacing(1)},editButtons:{display:"flex",flexDirection:"row",alignItems:"center"},icon:{color:e.palette.primary.main},imagePaper:{marginRight:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"start"},image:{maxHeight:"35vh",width:"auto"},hiddenInput:{display:"none"},farmerInfo:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},farmerInfoSm:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},farmerAddress:{display:"flex",flexDirection:"column"},addImagesBox:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},ratingNameBtnBox:{marginTop:e.spacing(2),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},rating:{marginBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},addRating:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},columnItem:{marginRight:e.spacing(1)},rowItem:{marginBottom:e.spacing(1)},formColumn:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},addRatingButton:{marginTop:e.spacing(2)},loadingOverlay:{filter:"brightness(50%)"},nameEditBox:{width:"49.40%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},nameEditBoxSm:{width:"70%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},addressEditBox:{width:"100%",display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"space-between"},addressEditBoxSm:{width:"100%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},contactsEditBox:{width:"49.40%"},contactsEditBoxSm:{width:"100%"},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var Pa=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=Ta(),t=Object(n.useState)([]),i=Object(A.a)(t,2),c=i[0],l=i[1],s=Object(n.useState)(null),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(null),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)(null),b=Object(A.a)(h,2),y=b[0],N=b[1],x=Object(n.useState)(!1),_=Object(A.a)(x,2),O=_[0],z=_[1],w=Object(n.useState)(!1),C=Object(A.a)(w,2),L=C[0],W=C[1],U=Object(n.useState)(null),q=Object(A.a)(U,2),X=q[0],J=q[1],V=Object(n.useState)(null),Z=Object(A.a)(V,2),Q=Z[0],Y=Z[1],$=Object(n.useState)(!1),ee=Object(A.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),re=Object(A.a)(ne,2),ie=re[0],ce=re[1],oe=Object(n.useState)(!1),le=Object(A.a)(oe,2),me=le[0],pe=le[1],de=Object(n.useState)(1),fe=Object(A.a)(de,2),ve=fe[0],he=fe[1],be=Object(n.useState)(1),xe=Object(A.a)(be,2),_e=xe[0],ke=xe[1],Oe=Object(n.useState)(1),ze=Object(A.a)(Oe,2),we=ze[0],Ce=ze[1],Se=Object(n.useState)({message:"",isOpen:!1}),De=Object(A.a)(Se,2),Be=De[0],Te=De[1];Object(n.useEffect)((function(){Ke(),Ye()}),[e.match.params.id]),Object(n.useEffect)((function(){if(void 0!==u&&null!==u){if(ve>Math.ceil(u.orders.filter((function(e){return e.dostavljena===ae})).length/4)){var e=Math.ceil(u.orders.filter((function(e){return e.dostavljena===ae})).length/4);he(e)}if(_e>Math.ceil(u.products.length/4)){var a=Math.ceil(u.products.length/4);ke(a)}}}),[u]),Object(n.useEffect)((function(){document.querySelectorAll(".horizontalScroll").forEach((function(e){e.addEventListener("mousewheel",(function(e){this.scrollLeft-=e.wheelDelta,e.preventDefault()}),!1)}))}),[u]),Object(n.useEffect)((function(){null!==y&&0!==y.length&&document.querySelector("#farmerImagesFormSubmitBtn").click()}),[y]);var Pe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/farmer_profile_page/farmer_images/".concat(a)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/farmer_profile_page/product_images/".concat(a)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/product_ratings/".concat(a)).then((function(e){var a=0;return e.data.forEach((function(e){return a+=e.ocjena})),a/=e.data.length,a=isNaN(a)?0:a})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a,e.abrupt("return",Promise.all([Fe(a.sif_oglasa),Re(a.sif_oglasa)]).then((function(e){t.slike=e[0],t.rating=e[1];var a=new Date(t.datum_kreiranja);return a.setDate(a.getDate()),t.datum_kreiranja=a.toLocaleDateString("hr-HR"),t})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),We=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t,n,r,i,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/farmer_profile_page/products/".concat(a)).then((function(e){return e.data}));case 2:t=e.sent,n=[],r=Object(ba.a)(t);try{for(r.s();!(i=r.n()).done;)c=i.value,n.push(Le(c))}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",Promise.all(n).then((function(e){return e})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a,e.abrupt("return",Promise.all([Fe(t.sif_oglasa)]).then((function(e){t.slike=e[0];var a=new Date(t.datum_kreiranja),n=new Date(t.datum_narudzbe),r=new Date(t.datum_dostave);return a.setDate(a.getDate()),n.setDate(n.getDate()),r.setDate(r.getDate()),t.datum_kreiranja=a.toLocaleDateString("hr-HR"),t.datum_narudzbe=n.toLocaleDateString("hr-HR"),t.datum_dostave=r.toLocaleDateString("hr-HR"),t})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),qe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t,n,r,i,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/farmer_profile_page/orders/".concat(a),k(j.getState)).then((function(e){return e.data})).catch((function(e){return[]}));case 2:t=e.sent,n=[],r=Object(ba.a)(t);try{for(r.s();!(i=r.n()).done;)c=i.value,n.push(Ue(c))}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",Promise.all(n).then((function(e){return e})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),He=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/farmer_profile_page/ratings/".concat(a)).then((function(e){var a=0;return e.data.forEach((function(e){var t=new Date(e.datum_kreiranja);t.setDate(t.getDate()),e.datum_kreiranja=t.toLocaleDateString("hr-HR"),a+=e.ocjena})),a/=e.data.length,a=isNaN(a)?0:a,{ratings:e.data,totalRating:a}})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke=function(){var a=Object(Ee.a)(ge.a.mark((function a(){var t;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.get("/api/farmer_profile_page/farmer_data/".concat(parseInt(e.match.params.id))).then((function(e){return e.data}));case 2:t=a.sent,Promise.all([Pe(t.sif_poljoprivrednika),We(t.sif_poljoprivrednika),qe(t.sif_poljoprivrednika),He(t.sif_poljoprivrednika)]).then((function(e){p({userId:t.sif_korisnika,firstName:t.ime,lastName:t.prezime,address:t.adresa_stanovanja,postalCodeLong:t.pbr_mjesta_stanovanja+" "+t.naziv_post_ureda,county:t.naziv_zupanije,phoneNumber:t.broj_telefona,email:t.email,farmerId:t.sif_poljoprivrednika,farmerName:t.ime_gospodarstva,farmDesc:t.opis_gospodarstva,deliveryDays:t.rok_isporuke_dani,images:e[0],products:e[1],orders:e[2],ratings:e[3].ratings,totalRating:e[3].totalRating}),v({userId:t.sif_korisnika,firstName:t.ime,lastName:t.prezime,address:t.adresa_stanovanja,postalCodeLong:t.pbr_mjesta_stanovanja+" "+t.naziv_post_ureda,phoneNumber:t.broj_telefona,oldEmail:t.email,email:t.email,farmerId:t.sif_poljoprivrednika,farmerName:t.ime_gospodarstva,farmDesc:t.opis_gospodarstva,deliveryDays:t.rok_isporuke_dani}),W(!1)}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Ge=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/register_page/post_offices").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/categories").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/units").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([Ge(),Ve(),Qe()]).then((function(e){l(e[0]),J(e[1]),Y(e[2])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t,n,r,i,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),W(!0),t=function(){var e=Object(Ee.a)(ge.a.mark((function e(){var a,t,n;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new FormData,t=0;t<y.length;t++)a.append("farmer-images",y[t]);return(n=k(j.getState)).headers["Content-type"]="multipart/form-data",e.abrupt("return",[a,n]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=5,t();case 5:return n=e.sent,r=Object(A.a)(n,2),i=r[0],c=r[1],e.next=11,I.a.post("/api/farmer_profile_page/images/".concat(u.farmerId),i,c);case 11:Ke(),document.querySelector("#farmerImagesForm").reset(),N(null);case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ea=function(){var e=Object(Ee.a)(ge.a.mark((function e(a,t){var n;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),(n=k(j.getState)).data={imageId:a,imageUrl:t},e.next=5,I.a.delete("/api/farmer_profile_page/image",n);case 5:Ke();case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),aa=function(){var e=Object(Ee.a)(ge.a.mark((function e(a,t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.put("/api/farmer_profile_page/order/".concat(a),{isDelivered:t},k(j.getState));case 2:Ke();case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ta=function(e,a){var t=k(j.getState);return t.data={imageId:e,imageUrl:a},I.a.delete("/api/product_page/image",t)},na=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t,n,r,i,c,o,l=arguments;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:u.products,e.next=3,I.a.get("/api/farmer_profile_page/product_delete_check/".concat(parseInt(a)),k(j.getState)).catch((function(e){return Te({message:e.response.data.message,isOpen:!0}),{data:{message:e.response.data.message}}})).then((function(e){return e.data.message}));case 3:if("Oglas se mo\u017ee obrisati"===e.sent){n=t.find((function(e){return parseInt(e.sif_oglasa)===parseInt(a)})).slike,r=[],i=Object(ba.a)(n);try{for(i.s();!(c=i.n()).done;)o=c.value,r.push(ta(o.sif_slike,o.url_slike))}catch(s){i.e(s)}finally{i.f()}Promise.all(r).then((function(){I.a.delete("/api/farmer_profile_page/product/".concat(parseInt(a)),k(j.getState)).then((function(){return Ke()}))}))}case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ra=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,I.a.post("/api/farmer_profile_page/rating",ie,k(j.getState));case 3:pe(!1),ce(Object(E.a)({},ie,{rating:5,comment:""})),Ke();case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ia=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete("/api/farmer_profile_page/rating/".concat(a),k(j.getState));case 2:Ke();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return null===u||null===u.orders||null===u.products||0===c.length||null===X||null===Q?r.a.createElement("div",{className:"FarmerProfilePage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper}),r.a.createElement(ue,null),r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))):r.a.createElement("div",{className:"FarmerProfilePage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement("form",{id:"farmerInfoForm",onSubmit:function(e){return function(e){e.preventDefault(),I.a.put("/api/farmer_profile_page/farmer_info",{userId:parseInt(g.userId),firstName:g.firstName,lastName:g.lastName,address:g.address,postalCode:parseInt(g.postalCodeLong.split()[0]),phoneNumber:g.phoneNumber,oldEmail:g.email,email:g.email,farmerId:parseInt(g.farmerId),farmerName:g.farmerName,farmDesc:g.farmDesc,deliveryDays:parseInt(g.deliveryDays)},k(j.getState)).catch((function(e){Te({message:e.response.data.message,isOpen:!0})})).then((function(){""===Be.message&&(z(!1),Ke())}))}(e)}}),r.a.createElement("form",{id:"farmerImagesForm",onSubmit:function(e){return $e(e)}}),r.a.createElement(D.a,{className:a.sectionPaper},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:O?"".concat(a.sectionTitleFlexStart," ").concat(a.rowItem):"".concat(a.sectionTitleFlexStart)},O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.nameEditBox},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"farmerName",label:"Ime gospodarstva",required:!0,inputProps:{form:"farmerInfoForm"},value:g.farmerName,onChange:function(e){v(Object(E.a)({},g,{farmerName:e.target.value}))}}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.nameEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"farmerName",label:"Ime gospodarstva",required:!0,inputProps:{form:"farmerInfoForm"},value:g.farmerName,onChange:function(e){v(Object(E.a)({},g,{farmerName:e.target.value}))}})))):r.a.createElement(T.a,{variant:"h3"},u.farmerName),null===e.auth.user||e.auth.user.userId!==parseInt(e.match.params.id)?r.a.createElement(r.a.Fragment,null):O?r.a.createElement(D.a,{className:a.editButtons},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(R.a,{type:"submit",form:"farmerInfoForm",size:"medium",color:"inherit",className:a.columnItem},"Spremi"),r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){v({userId:u.userId,firstName:u.firstName,lastName:u.lastName,address:u.address,postalCodeLong:u.postalCodeLong,phoneNumber:u.phoneNumber,oldEmail:u.email,email:u.email,farmerId:u.farmerId,farmerName:u.farmerName,farmDesc:u.farmDesc,deliveryDays:u.deliveryDays}),z(!1)}},"Odustani")),r.a.createElement(M.a,{smUp:!0},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",form:"farmerInfoForm",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){v({userId:u.userId,firstName:u.firstName,lastName:u.lastName,address:u.address,postalCodeLong:u.postalCodeLong,phoneNumber:u.phoneNumber,oldEmail:u.email,email:u.email,farmerId:u.farmerId,farmerName:u.farmerName,farmDesc:u.farmDesc,deliveryDays:u.deliveryDays}),z(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"}))))):r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){return z(!0)}},"Uredi")),r.a.createElement(D.a,{className:a.subSection},O?r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,multiline:!0,rows:4,id:"farmDesc",label:"Opis gospodarstva",helperText:"Opis \u010dime se gospodarstvo bavi, \u0161to proizvodi te dodatni podaci",required:!0,inputProps:{form:"farmerInfoForm"},value:g.farmDesc,onChange:function(e){v(Object(E.a)({},g,{farmDesc:e.target.value}))}}):r.a.createElement(T.a,{variant:"body1"},u.farmDesc)),r.a.createElement(D.a,{className:a.subSection},r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},"Slike gospodarstva"),null!==u.images&&0!==u.images.length?r.a.createElement(D.a,{className:"horizontalScroll ".concat(a.horizontalScroll," ").concat(a.rowItem)},u.images.map((function(t){return r.a.createElement(F.a,{variant:"outlined",key:t.sif_slike,className:a.imagePaper},r.a.createElement("a",{href:t.url_slike+"?content-disposition=inline",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:t.url_slike,alt:"Slika gospodarstva",className:L?"".concat(a.image," ").concat(a.loadingOverlay):"".concat(a.image)})),null!==e.auth.user&&e.auth.user.userId===parseInt(e.match.params.id)&&void 0!==t&&null!==t?r.a.createElement(R.a,{size:"small",color:"inherit",disabled:L,onClick:function(){return ea(t.sif_slike,t.url_slike)}},"Obri\u0161i"):r.a.createElement(r.a.Fragment,null))}))):r.a.createElement(T.a,{variant:"body1"},"Nema slika"),null!==e.auth.user&&e.auth.user.userId===parseInt(e.match.params.id)?r.a.createElement(D.a,{className:a.subSection},r.a.createElement("input",{id:"add-files-button",name:"farmer-images",type:"file",form:"farmerImagesForm",multiple:!0,accept:"image/*",onChange:function(e){return N(e.target.files)},className:a.hiddenInput}),r.a.createElement("label",{htmlFor:"add-files-button"},r.a.createElement(D.a,{className:a.addImagesBox},r.a.createElement(R.a,{component:"span",variant:"outlined",size:"medium",color:"inherit",style:{marginRight:"16px"},disabled:L},"Dodaj slike"),L?r.a.createElement(Xe.a,{color:"inherit",size:25}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(R.a,{id:"farmerImagesFormSubmitBtn",type:"submit",form:"farmerImagesForm",size:"medium",color:"inherit",className:a.hiddenInput},"Spremi")):r.a.createElement(r.a.Fragment,null)),r.a.createElement(D.a,{className:a.subSection},r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},"Kontakt podaci"),O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.addressEditBox},r.a.createElement(D.a,{style:{width:"49.40%"}},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"address",label:"Adresa stanovanja",helperText:"npr. Unska ulica 3, Zagreb",required:!0,inputProps:{form:"farmerInfoForm"},value:g.address,onChange:function(e){v(Object(E.a)({},g,{address:e.target.value}))}})),r.a.createElement(D.a,{style:{width:"49.40%"}},r.a.createElement(Ne.a,{id:"postalCodeLong",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Po\u0161tanski broj",required:!0,inputProps:Object(E.a)({},e.inputProps,{form:"farmerInfoForm"})}))},options:c.map((function(e){return e.post_broj+" "+e.naziv_post_ureda})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:g.postalCodeLong,onChange:function(e,a){v(Object(E.a)({},g,{postalCodeLong:a}))}})))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.addressEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"address",label:"Adresa stanovanja",helperText:"npr. Unska ulica 3, Zagreb",required:!0,inputProps:{form:"farmerInfoForm"},value:g.address,onChange:function(e){v(Object(E.a)({},g,{address:e.target.value}))},className:a.rowItem}),r.a.createElement(Ne.a,{id:"postalCodeLong",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Po\u0161tanski broj",required:!0,inputProps:Object(E.a)({},e.inputProps,{form:"farmerInfoForm"}),className:a.rowItem}))},options:c.map((function(e){return e.post_broj+" "+e.naziv_post_ureda})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:g.postalCodeLong,onChange:function(e,a){v(Object(E.a)({},g,{postalCodeLong:a}))}})))):r.a.createElement(D.a,{className:a.farmerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Adresa:"),r.a.createElement(D.a,{className:a.farmerAddress},r.a.createElement(T.a,{variant:"body1"},u.address),r.a.createElement(T.a,{variant:"body1"},u.postalCodeLong),r.a.createElement(T.a,{variant:"body1"},u.county))),O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.contactsEditBox},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"phoneNumber",label:"Broj telefona",required:!0,inputProps:{form:"farmerInfoForm"},value:g.phoneNumber,onChange:function(e){v(Object(E.a)({},g,{phoneNumber:e.target.value}))},className:a.rowItem}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.contactsEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"phoneNumber",label:"Broj telefona",required:!0,inputProps:{form:"farmerInfoForm"},value:g.phoneNumber,onChange:function(e){v(Object(E.a)({},g,{phoneNumber:e.target.value}))},className:a.rowItem})))):r.a.createElement(D.a,{className:a.farmerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Broj telefona:"),r.a.createElement(T.a,{variant:"body1"},u.phoneNumber)),O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.contactsEditBox},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,type:"email",id:"email",label:"E-mail adresa",required:!0,inputProps:{form:"farmerInfoForm"},value:g.email,onChange:function(e){v(Object(E.a)({},g,{email:e.target.value}))}}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.contactsEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,type:"email",id:"email",label:"E-mail adresa",required:!0,inputProps:{form:"farmerInfoForm"},value:g.email,onChange:function(e){v(Object(E.a)({},g,{email:e.target.value}))}})))):r.a.createElement(D.a,{className:a.farmerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"E-mail adresa:"),r.a.createElement(T.a,{variant:"body1"},u.email))),r.a.createElement(D.a,null,r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},"Dostava"),O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.contactsEditBox},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,type:"number",id:"deliveryDays",label:"Rok dostave u danima",required:!0,inputProps:{form:"farmerInfoForm"},value:g.deliveryDays,onChange:function(e){v(Object(E.a)({},g,{deliveryDays:e.target.value}))}}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.contactsEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,type:"number",id:"deliveryDays",label:"Rok dostave u danima",required:!0,inputProps:{form:"farmerInfoForm"},value:g.deliveryDays,onChange:function(e){v(Object(E.a)({},g,{deliveryDays:e.target.value}))}})))):r.a.createElement(T.a,{variant:"body1"},"Dostava u roku od ",u.deliveryDays," dana.")))),null===e.auth.user||e.auth.user.userId!==parseInt(e.match.params.id)?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.section},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitleFlex},r.a.createElement(T.a,{variant:"h4"},ae?"Povijest narud\u017ebi":"Narud\u017ebe"),r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){te(!ae),he(1)}},ae?"Trenutne narud\u017ebe":"Povijest narud\u017ebi")),null!==u.orders&&0!==u.orders.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{container:!0,spacing:4,direction:"row",justify:"flex-start"},u.orders.filter((function(e){return e.dostavljena===ae})).sort((function(e,a){var t=e.datum_narudzbe.split(". "),n=a.datum_narudzbe.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?1:r>i?-1:0})).slice(4*(ve-1),4*(ve-1)+4).map((function(e){return r.a.createElement(P.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e.sif_narudzbe},r.a.createElement(Ba,{order:e,deliveryDays:u.deliveryDays,setOrderIsDelivered:aa}))}))),u.orders.length<=4?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.orders.filter((function(e){return e.dostavljena===ae})).length/4),defaultPage:1,page:ve,onChange:function(e,a){return he(a)}}))):r.a.createElement(T.a,{variant:"body1"},"Nema narud\u017ebi"))),r.a.createElement(D.a,{className:null!==e.auth.user&&e.auth.user.userId===parseInt(e.match.params.id)?"".concat(a.sectionPaper):"".concat(a.section)},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitleFlex},r.a.createElement(T.a,{variant:"h4"},"Oglasi"),null===e.auth.user||e.auth.user.userId!==parseInt(e.match.params.id)?r.a.createElement(r.a.Fragment,null):r.a.createElement(o.b,{to:"/oglas/novi_oglas",className:a.link},r.a.createElement(R.a,{variant:"contained",size:"medium",color:"primary",className:a.button},"Novi oglas"))),null!==u.products&&0!==u.products.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{container:!0,spacing:4,direction:"row",justify:"flex-start"},u.products.sort((function(e,a){var t=e.datum_kreiranja.split(". "),n=a.datum_kreiranja.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?1:r>i?-1:0})).slice(4*(_e-1),4*(_e-1)+4).map((function(a){return r.a.createElement(P.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:a.sif_oglasa},r.a.createElement(wa,{product:a,farmerId:parseInt(e.match.params.id),deleteProduct:na}))}))),u.products.length<=4?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.products.length/4),defaultPage:1,page:_e,onChange:function(e,a){return ke(a)}}))):r.a.createElement(T.a,{variant:"body1"},"Nema oglasa"))),r.a.createElement(D.a,{className:null!==e.auth.user&&e.auth.user.userId===parseInt(e.match.params.id)?"".concat(a.section):"".concat(a.sectionPaper)},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitleFlex},r.a.createElement(T.a,{variant:"h4"},"Ocjena"),r.a.createElement(ya.a,{value:u.totalRating,size:"large",precision:.5,readOnly:!0})),null!==u.ratings&&0!==u.ratings.length?r.a.createElement(r.a.Fragment,null,u.ratings.sort((function(e,a){var t=e.datum_kreiranja.split(". "),n=a.datum_kreiranja.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?1:r>i?-1:0})).slice(3*(we-1),3*(we-1)+3).map((function(t,n){return r.a.createElement(D.a,{key:t.sif_ocjene},r.a.createElement(D.a,{className:a.ratingNameBtnBox},r.a.createElement(ya.a,{value:t.ocjena,precision:.5,readOnly:!0,className:a.rowItem}),null===e.auth.user||e.auth.user.userId!==t.sif_autora?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){return ia(t.sif_ocjene)}},"Obri\u0161i")),r.a.createElement(D.a,{className:a.rating},r.a.createElement(T.a,{variant:"body1",className:a.rowItem},t.komentar),r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.rowItem},t.ime," ",t.prezime),r.a.createElement(T.a,{variant:"caption",color:"textSecondary"},t.datum_kreiranja)),t.sif_ocjene!==u.ratings[u.ratings.length-1].sif_ocjene&&n!==3*we-1?r.a.createElement(H.a,null):r.a.createElement(r.a.Fragment,null))})),u.ratings.length<=3?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.ratings.length/3),defaultPage:1,page:we,onChange:function(e,a){return Ce(a)}}))):me?r.a.createElement(r.a.Fragment,null):r.a.createElement(T.a,{variant:"body1"},"Nema ocjena"),me?r.a.createElement(D.a,{className:a.rowItem},r.a.createElement("form",{onSubmit:function(e){return ra(e)}},null!==u.ratings&&0!==u.ratings.length?r.a.createElement(H.a,null):r.a.createElement(r.a.Fragment,null),r.a.createElement(D.a,{className:a.addRating},r.a.createElement(ya.a,{size:"large",name:"rating",value:ie.rating,onChange:function(e,a){ce(Object(E.a)({},ie,{rating:a}))},required:!0,className:a.rowItem}),r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,multiline:!0,rows:3,id:"comment",label:"Komentar",value:ie.comment,onChange:function(e){ce(Object(E.a)({},ie,{comment:e.target.value}))},required:!0})),r.a.createElement(D.a,{className:"".concat(a.editButtons," ").concat(a.rowItem)},r.a.createElement(R.a,{type:"submit",size:"medium",color:"inherit",className:a.columnItem},"Spremi"),r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){ce(Object(E.a)({},ie,{rating:5,comment:""})),pe(!1)}},"Odustani")))):r.a.createElement(r.a.Fragment,null),null===e.auth.user||2!==e.auth.user.userType||me?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{variant:"contained",size:"medium",color:"primary",onClick:function(){null===ie&&ce({rating:5,farmerId:u.farmerId,authorId:e.auth.user.userId,comment:""}),pe(!0)},className:"".concat(a.button," ").concat(a.addRatingButton," ").concat(a.rowItem)},"Dodaj ocjenu")))),r.a.createElement(je.a,{open:Be.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&Te({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"error"},Be.message)),r.a.createElement(ue,null))})),Fa=t(51),Ra=t.n(Fa),La=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},launchIcon:{marginLeft:e.spacing(1)},card:{maxWidth:345},image:{height:140},noImage:{height:140,backgroundColor:e.palette.text.disabled,color:e.palette.background.default,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},productInfo:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},columnItem:{marginRight:e.spacing(1)},rowItem:{marginBottom:e.spacing(1)},seller:{display:"flex",flexDirection:"column",overflow:"visible"},loadingOverlay:{filter:"brightness(90%)"}}}));var Wa=function(e){var a=La(),t=Object(n.useState)(null),i=Object(A.a)(t,2),c=i[0],l=i[1],s=Object(n.useState)(null),m=Object(A.a)(s,2),u=m[0],p=m[1];return Object(n.useEffect)((function(){var a=e.order.datum_narudzbe.split(". "),t=new Date(a[2],a[1]-1,a[0]);t.setDate(t.getDate()+e.order.rok_isporuke_dani),t=t.toLocaleDateString("hr-HR"),l(t),p(e.order.dostavljena)}),[e.order,e.order.dostavljena]),void 0===e.order||null===e.order?null:r.a.createElement("div",{className:"OrderCardCustomer"},r.a.createElement(ja.a,{className:u?"".concat(a.card," ").concat(a.loadingOverlay):"".concat(a.card)},r.a.createElement(Na.a,null,void 0!==e.order.slike&&0!==e.order.slike.length?r.a.createElement(M.a,{smDown:!0},r.a.createElement(Ia.a,{className:a.image,image:e.order.slike[0].url_slike,title:e.order.naziv_vrste_proizvoda})):r.a.createElement(D.a,{className:a.noImage},r.a.createElement(Oa.a,{style:{fontSize:"64px"}})),r.a.createElement(xa.a,null,r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(o.b,{to:"/oglas/".concat(e.order.sif_oglasa),className:a.link},r.a.createElement(T.a,{variant:"h5",component:"h2"},e.order.naziv_vrste_proizvoda),r.a.createElement(K.a,{title:"Otvori stranicu oglasa"},r.a.createElement(Ra.a,{color:"inherit",className:a.launchIcon,style:{fontSize:"1rem"}})))),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Proizvo\u0111a\u010d:"),r.a.createElement(o.b,{to:"/profil_poljoprivrednik/".concat(e.order.sif_korisnika),className:a.link},r.a.createElement(T.a,{variant:"body2"},e.order.ime_gospodarstva),r.a.createElement(K.a,{title:"Otvori stranicu poljoprivrednika"},r.a.createElement(Ra.a,{color:"inherit",className:a.launchIcon,style:{fontSize:"1rem"}})))),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Koli\u010dina:"),r.a.createElement(T.a,{variant:"body2"},e.order.kolicina," ",e.order.oznaka_mjerne_jedinice)),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Cijena:"),r.a.createElement(T.a,{variant:"body2"},e.order.kolicina*e.order.cijena," kn")),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},u?"Dostavljeno:":"Dostava do:"),r.a.createElement(T.a,{variant:"body2"},u?e.order.datum_dostave:c)))),r.a.createElement(_a.a,null,u?r.a.createElement(Ca.a,{control:r.a.createElement(Sa.a,{checked:u,onChange:function(e){},name:"orderIsDelivered",color:"primary"}),label:"Dostavljeno"}):r.a.createElement(R.a,{size:"small",color:"inherit",onClick:function(){return e.deleteOrder(e.order.sif_narudzbe)}},"Obri\u0161i"))))},Ua=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},launchIcon:{marginLeft:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},sectionPaper:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.paper},section:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5)},sectionTitle:{marginBottom:e.spacing(3)},sectionTitleFlex:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing(3)},sectionTitleFlexStart:{display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"space-between",marginBottom:e.spacing(3)},subSectionTitle:{marginBottom:e.spacing(1)},editButtons:{display:"flex",flexDirection:"row",alignItems:"center"},icon:{color:e.palette.primary.main},customerInfo:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},customerInfoSm:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},customerAddress:{display:"flex",flexDirection:"column"},rating:{marginBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},ratingNameBtnBox:{marginTop:e.spacing(2),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},columnItem:{marginRight:e.spacing(1)},rowItem:{marginBottom:e.spacing(1)},formColumn:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},nameEditBox:{width:"49.40%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},nameEditBoxSm:{width:"70%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},addressEditBox:{width:"100%",display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"space-between"},addressEditBoxSm:{width:"100%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},contactsEditBox:{width:"49.40%"},contactsEditBoxSm:{width:"100%"},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var qa=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=Ua(),t=Object(n.useState)([]),i=Object(A.a)(t,2),c=i[0],l=i[1],s=Object(n.useState)(null),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(null),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)(!1),b=Object(A.a)(h,2),y=b[0],N=b[1],x=Object(n.useState)(!1),_=Object(A.a)(x,2),O=_[0],z=_[1],w=Object(n.useState)(1),C=Object(A.a)(w,2),F=C[0],L=C[1],W=Object(n.useState)(1),U=Object(A.a)(W,2),q=U[0],X=U[1],J=Object(n.useState)(1),V=Object(A.a)(J,2),Z=V[0],Q=V[1],Y=Object(n.useState)({message:"",isOpen:!1}),$=Object(A.a)(Y,2),ee=$[0],ae=$[1];Object(n.useEffect)((function(){le(),me()}),[]),Object(n.useEffect)((function(){if(void 0!==u&&null!==u){if(F>Math.ceil(u.orders.filter((function(e){return e.dostavljena===O})).length/4)){var e=Math.ceil(u.orders.filter((function(e){return e.dostavljena===O})).length/4);L(e)}if(q>Math.ceil(u.farmerRatings.length/3)){var a=Math.ceil(u.farmerRatings.length/3);X(a)}if(Z>Math.ceil(u.productRatings.length/3)){var t=Math.ceil(u.productRatings.length/3);Q(t)}}}),[u]),Object(n.useEffect)((function(){document.querySelectorAll(".horizontalScroll").forEach((function(e){e.addEventListener("mousewheel",(function(e){this.scrollLeft-=e.wheelDelta,e.preventDefault()}),!1)}))}),[u]);var te=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/customer_profile_page/product_images/".concat(a),k(j.getState)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a,e.abrupt("return",Promise.all([te(t.sif_oglasa)]).then((function(e){t.slike=e[0];var a=new Date(t.datum_narudzbe),n=new Date(t.datum_dostave);return a.setDate(a.getDate()),n.setDate(n.getDate()),t.datum_narudzbe=a.toLocaleDateString("hr-HR"),t.datum_dostave=n.toLocaleDateString("hr-HR"),t})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),re=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t,n,r,i,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/customer_profile_page/orders/".concat(a),k(j.getState)).then((function(e){return e.data})).catch((function(e){return[]}));case 2:t=e.sent,n=[],r=Object(ba.a)(t);try{for(r.s();!(i=r.n()).done;)c=i.value,n.push(ne(c))}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",Promise.all(n).then((function(e){return e})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/customer_profile_page/customer_data/".concat(a)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/customer_profile_page/farmer_ratings/".concat(a)).then((function(e){return e.data.forEach((function(e){var a=new Date(e.datum_kreiranja);a.setDate(a.getDate()),e.datum_kreiranja=a.toLocaleDateString("hr-HR")})),e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/customer_profile_page/product_ratings/".concat(a)).then((function(e){return e.data.forEach((function(e){var a=new Date(e.datum_kreiranja);a.setDate(a.getDate()),e.datum_kreiranja=a.toLocaleDateString("hr-HR")})),e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),le=function(){var a=Object(Ee.a)(ge.a.mark((function a(){return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Promise.all([ie(parseInt(e.match.params.id)),re(parseInt(e.match.params.id)),ce(parseInt(e.match.params.id)),oe(parseInt(e.match.params.id))]).then((function(e){p({userId:e[0].sif_korisnika,firstName:e[0].ime,lastName:e[0].prezime,address:e[0].adresa_stanovanja,postalCodeLong:e[0].pbr_mjesta_stanovanja+" "+e[0].naziv_post_ureda,county:e[0].naziv_zupanije,phoneNumber:e[0].broj_telefona,email:e[0].email,orders:e[1],farmerRatings:e[2],productRatings:e[3]}),v({userId:e[0].sif_korisnika,firstName:e[0].ime,lastName:e[0].prezime,address:e[0].adresa_stanovanja,postalCodeLong:e[0].pbr_mjesta_stanovanja+" "+e[0].naziv_post_ureda,phoneNumber:e[0].broj_telefona,oldEmail:e[0].email,email:e[0].email})}));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),me=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.a.get("/api/register_page/post_offices").then((function(e){l(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete("/api/customer_profile_page/order/".concat(a),k(j.getState));case 2:le();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),de=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete("/api/customer_profile_page/farmer_rating/".concat(a),k(j.getState));case 2:le();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete("/api/customer_profile_page/product_rating/".concat(a),k(j.getState));case 2:le();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return null===u||null===u.farmerRatings||null===u.productRatings||0===c.length?r.a.createElement("div",{className:"CustomerProfilePage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper}),r.a.createElement(ue,null),r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))):r.a.createElement("div",{className:"CustomerProfilePage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:a.sectionPaper},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),I.a.put("/api/customer_profile_page/customer_info/",{userId:parseInt(g.userId),firstName:g.firstName,lastName:g.lastName,address:g.address,postalCode:parseInt(g.postalCodeLong.split()[0]),phoneNumber:g.phoneNumber,oldEmail:g.email,email:g.email},k(j.getState)).catch((function(e){ae({message:e.response.data.message,isOpen:!0})})).then((function(){""===ee.message&&(N(!1),le())}))}(e)}},r.a.createElement(D.a,{className:a.sectionTitleFlexStart},y?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.nameEditBox},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"firstName",label:"Ime",required:!0,value:g.firstName,onChange:function(e){v(Object(E.a)({},g,{firstName:e.target.value}))},className:a.rowItem}),r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"lastName",label:"Prezime",required:!0,value:g.lastName,onChange:function(e){v(Object(E.a)({},g,{lastName:e.target.value}))}}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.nameEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"firstName",label:"Ime",required:!0,value:g.firstName,onChange:function(e){v(Object(E.a)({},g,{firstName:e.target.value}))},className:a.rowItem}),r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"lastName",label:"Prezime",required:!0,value:g.lastName,onChange:function(e){v(Object(E.a)({},g,{lastName:e.target.value}))}})))):r.a.createElement(T.a,{variant:"h3"},u.firstName," ",u.lastName),null===e.auth.user||e.auth.user.userId!==parseInt(e.match.params.id)?r.a.createElement(r.a.Fragment,null):y?r.a.createElement(D.a,{className:a.editButtons},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(R.a,{type:"submit",size:"medium",color:"inherit",className:a.columnItem},"Spremi"),r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){v({userId:u.userId,firstName:u.firstName,lastName:u.lastName,address:u.address,postalCodeLong:u.postalCodeLong,phoneNumber:u.phoneNumber,oldEmail:u.email,email:u.email}),N(!1)}},"Odustani")),r.a.createElement(M.a,{smUp:!0},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){v({userId:u.userId,firstName:u.firstName,lastName:u.lastName,address:u.address,postalCodeLong:u.postalCodeLong,phoneNumber:u.phoneNumber,oldEmail:u.email,email:u.email}),N(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"}))))):r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){return N(!0)}},"Uredi")),r.a.createElement(D.a,null,r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},"Kontakt podaci"),y?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.addressEditBox},r.a.createElement(D.a,{style:{width:"49.40%"}},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"address",label:"Adresa stanovanja",helperText:"npr. Unska ulica 3, Zagreb",required:!0,value:g.address,onChange:function(e){v(Object(E.a)({},g,{address:e.target.value}))}})),r.a.createElement(D.a,{style:{width:"49.40%"}},r.a.createElement(Ne.a,{id:"postalCodeLong",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Po\u0161tanski broj",required:!0}))},options:c.map((function(e){return e.post_broj+" "+e.naziv_post_ureda})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:g.postalCodeLong,onChange:function(e,a){v(Object(E.a)({},g,{postalCodeLong:a}))}})))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.addressEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"address",label:"Adresa stanovanja",helperText:"npr. Unska ulica 3, Zagreb",required:!0,value:g.address,onChange:function(e){v(Object(E.a)({},g,{address:e.target.value}))},className:a.rowItem}),r.a.createElement(Ne.a,{id:"postalCodeLong",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Po\u0161tanski broj",required:!0,className:a.rowItem}))},options:c.map((function(e){return e.post_broj+" "+e.naziv_post_ureda})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:g.postalCodeLong,onChange:function(e,a){v(Object(E.a)({},g,{postalCodeLong:a}))}})))):r.a.createElement(D.a,{className:a.customerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Adresa:"),r.a.createElement(D.a,{className:a.customerAddress},r.a.createElement(T.a,{variant:"body1"},u.address),r.a.createElement(T.a,{variant:"body1"},u.postalCodeLong),r.a.createElement(T.a,{variant:"body1"},u.county))),y?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.contactsEditBox},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"phoneNumber",label:"Broj telefona",required:!0,value:g.phoneNumber,onChange:function(e){v(Object(E.a)({},g,{phoneNumber:e.target.value}))},className:a.rowItem}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.contactsEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,id:"phoneNumber",label:"Broj telefona",required:!0,value:g.phoneNumber,onChange:function(e){v(Object(E.a)({},g,{phoneNumber:e.target.value}))},className:a.rowItem})))):r.a.createElement(D.a,{className:a.customerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Broj telefona:"),r.a.createElement(T.a,{variant:"body1"},u.phoneNumber)),y?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.contactsEditBox},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,type:"email",id:"email",label:"E-mail adresa",required:!0,value:g.email,onChange:function(e){v(Object(E.a)({},g,{email:e.target.value}))}}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.contactsEditBoxSm},r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,type:"email",id:"email",label:"E-mail adresa",required:!0,value:g.email,onChange:function(e){v(Object(E.a)({},g,{email:e.target.value}))}})))):r.a.createElement(D.a,{className:a.customerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"E-mail adresa:"),r.a.createElement(T.a,{variant:"body1"},u.email)))))),null===e.auth.user||e.auth.user.userId!==parseInt(e.match.params.id)?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.section},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitleFlex},r.a.createElement(T.a,{variant:"h4"},O?"Povijest narud\u017ebi":"Narud\u017ebe"),r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){z(!O),L(1)}},O?"Trenutne narud\u017ebe":"Povijest narud\u017ebi")),null!==u.orders&&0!==u.orders.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{container:!0,spacing:4,direction:"row",justify:"flex-start"},u.orders.filter((function(e){return e.dostavljena===O})).sort((function(e,a){var t=e.datum_narudzbe.split(". "),n=a.datum_narudzbe.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?1:r>i?-1:0})).slice(4*(F-1),4*(F-1)+4).map((function(e){return r.a.createElement(P.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e.sif_narudzbe},r.a.createElement(Wa,{order:e,deleteOrder:pe}))}))),u.orders.length<=4?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.orders.filter((function(e){return e.dostavljena===O})).length/4),defaultPage:1,page:F,onChange:function(e,a){return L(a)}}))):r.a.createElement(T.a,{variant:"body1"},"Nema narud\u017ebi"))),r.a.createElement(D.a,{className:null!==e.auth.user&&e.auth.user.userId===parseInt(e.match.params.id)?"".concat(a.sectionPaper):"".concat(a.section)},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitle},r.a.createElement(T.a,{variant:"h4"},"Ocjene poljoprivrednika")),null!==u.farmerRatings&&0!==u.farmerRatings.length?r.a.createElement(r.a.Fragment,null,u.farmerRatings.sort((function(e,a){var t=e.datum_kreiranja.split(". "),n=a.datum_kreiranja.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?1:r>i?-1:0})).slice(3*(q-1),3*(q-1)+3).map((function(t,n){return r.a.createElement(D.a,{key:t.sif_ocjene},r.a.createElement(D.a,{className:a.ratingNameBtnBox},r.a.createElement(o.b,{to:"/profil_poljoprivrednik/".concat(t.sif_korisnika),className:"".concat(a.link," ").concat(a.rowItem)},r.a.createElement(T.a,{variant:"h6"},t.ime_gospodarstva),r.a.createElement(K.a,{title:"Otvori stranicu poljoprivrednika"},r.a.createElement(Ra.a,{fontSize:"small",color:"inherit",className:a.launchIcon}))),null===e.auth.user||e.auth.user.userId!==parseInt(e.match.params.id)?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){return de(t.sif_ocjene)}},"Obri\u0161i")),r.a.createElement(D.a,{className:a.rating},r.a.createElement(ya.a,{value:t.ocjena,precision:.5,readOnly:!0,className:a.rowItem}),r.a.createElement(T.a,{variant:"body1",className:a.rowItem},t.komentar),r.a.createElement(T.a,{variant:"caption",color:"textSecondary"},t.datum_kreiranja)),t.sif_ocjene!==u.farmerRatings[u.farmerRatings.length-1].sif_ocjene&&n!==3*q-1?r.a.createElement(H.a,null):r.a.createElement(r.a.Fragment,null))})),u.farmerRatings.length<=3?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.farmerRatings.length/3),defaultPage:1,page:q,onChange:function(e,a){return X(a)}}))):r.a.createElement(T.a,{variant:"body1"},"Nema ocjena"))),r.a.createElement(D.a,{className:null!==e.auth.user&&e.auth.user.userId===parseInt(e.match.params.id)?"".concat(a.section):"".concat(a.sectionPaper)},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitle},r.a.createElement(T.a,{variant:"h4"},"Ocjene oglasa")),null!==u.productRatings&&0!==u.productRatings.length?r.a.createElement(r.a.Fragment,null,u.productRatings.sort((function(e,a){var t=e.datum_kreiranja.split(". "),n=a.datum_kreiranja.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?1:r>i?-1:0})).slice(3*(Z-1),3*(Z-1)+3).map((function(t,n){return r.a.createElement(D.a,{key:t.sif_ocjene},r.a.createElement(D.a,{className:a.ratingNameBtnBox},r.a.createElement(o.b,{to:"/oglas/".concat(t.sif_oglasa),className:"".concat(a.link," ").concat(a.rowItem)},r.a.createElement(T.a,{variant:"h6"},t.naziv_vrste_proizvoda," (",t.ime_gospodarstva,")"),r.a.createElement(K.a,{title:"Otvori stranicu oglasa"},r.a.createElement(Ra.a,{fontSize:"small",color:"inherit",className:a.launchIcon}))),null===e.auth.user||e.auth.user.userId!==parseInt(e.match.params.id)?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){return fe(t.sif_ocjene)}},"Obri\u0161i")),r.a.createElement(D.a,{className:a.rating},r.a.createElement(ya.a,{value:t.ocjena,precision:.5,readOnly:!0,className:a.rowItem}),r.a.createElement(T.a,{variant:"body1",className:a.rowItem},t.komentar),r.a.createElement(T.a,{variant:"caption",color:"textSecondary"},t.datum_kreiranja)),t.sif_ocjene!==u.productRatings[u.productRatings.length-1].sif_ocjene&&n!==3*Z-1?r.a.createElement(H.a,null):r.a.createElement(r.a.Fragment,null))})),u.productRatings.length<=3?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.productRatings.length/3),defaultPage:1,page:Z,onChange:function(e,a){return Q(a)}}))):r.a.createElement(T.a,{variant:"body1"},"Nema ocjena")))),r.a.createElement(je.a,{open:ee.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&ae({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"error"},ee.message)),r.a.createElement(ue,null))})),Aa=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},button:{color:e.palette.background.paper},horizontalScroll:{display:"flex",overflowX:"auto",maxHeight:"50vh",maxWidth:"100%",justifyItems:"space-around"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},pageWrapperNewProduct:{backgroundColor:e.palette.background.paper,minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},sectionPaper:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.paper},section:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5)},sectionTitle:{marginBottom:e.spacing(3)},titleInfo:{width:"40vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},titleInfoSm:{width:"60vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},sectionTitleFlex:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing(3)},subSection:{marginBottom:e.spacing(3)},subSectionTitle:{marginBottom:e.spacing(1)},editButtons:{display:"flex",flexDirection:"row",alignItems:"center"},icon:{color:e.palette.primary.main},imagePaper:{marginRight:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"start"},image:{maxHeight:"35vh",width:"auto"},hiddenInput:{display:"none"},productInfo:{width:"20%",marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},productInfoSm:{width:"50%",marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},productInfoRow:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},farmerInfo:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},orderBox:{width:"40%",marginTop:e.spacing(2),marginBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},orderBoxSm:{width:"80%",marginTop:e.spacing(2),marginBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},orderInfoRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},addImagesBox:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},ratingNameBtnBox:{marginTop:e.spacing(2),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},rating:{marginBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},addRating:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},columnItem:{marginRight:e.spacing(1)},rowItem:{marginBottom:e.spacing(1)},formColumn:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},buttonMarginTop:{marginTop:e.spacing(2)},loadingOverlay:{filter:"brightness(50%)"},addToCartButtonBox:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},cartIcon:{marginRight:e.spacing(1),color:e.palette.background.paper},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var Xa=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=Aa(),t=Object(n.useState)(null),i=Object(A.a)(t,2),c=i[0],l=i[1],s=Object(n.useState)(null),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(null),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)(null),b=Object(A.a)(h,2),y=b[0],N=b[1],x=Object(n.useState)(!1),_=Object(A.a)(x,2),O=_[0],z=_[1],w=Object(n.useState)(!1),C=Object(A.a)(w,2),P=C[0],L=C[1],W=Object(n.useState)(!1),U=Object(A.a)(W,2),q=U[0],X=U[1],J=Object(n.useState)(null),V=Object(A.a)(J,2),Q=V[0],Y=V[1],$=Object(n.useState)(!1),ee=Object(A.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)({quantity:""}),re=Object(A.a)(ne,2),ie=re[0],ce=re[1],le=Object(n.useState)(1),me=Object(A.a)(le,2),pe=me[0],de=me[1],fe=Object(n.useState)({message:"",isOpen:!1,severity:"error"}),xe=Object(A.a)(fe,2),_e=xe[0],ke=xe[1];Object(n.useEffect)((function(){Te(),null!==e.match.params.id&&"novi_oglas"!==e.match.params.id?(z(!1),Ce()):(z(!0),p(null),v({productId:null,category:"",unit:1,price:"",productDesc:""}),L(!1))}),[e.match.params.id]),Object(n.useEffect)((function(){if(void 0!==u&&null!==u&&pe>Math.ceil(u.ratings.length/3)){var e=Math.ceil(u.ratings.length/3);de(e)}}),[u]),Object(n.useEffect)((function(){document.querySelectorAll(".horizontalScroll").forEach((function(e){e.addEventListener("mousewheel",(function(e){this.scrollLeft-=e.wheelDelta,e.preventDefault()}),!1)}))}),[u]),Object(n.useEffect)((function(){"novi_oglas"!==e.match.params.id&&null!==y&&0!==y.length&&document.querySelector("#productImagesFormSubmitBtn").click()}),[y]);var Oe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/product_images/".concat(a)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ze=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/product_ratings/".concat(a)).then((function(e){var a=0;return e.data.forEach((function(e){var t=new Date(e.datum_kreiranja);t.setDate(t.getDate()),e.datum_kreiranja=t.toLocaleDateString("hr-HR"),a+=e.ocjena})),a/=e.data.length,a=isNaN(a)?0:a,{ratings:e.data,totalRating:a}})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),we=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/product/".concat(a)).then((function(e){var a=new Date(e.data.datum_kreiranja);return a.setDate(a.getDate()),e.data.datum_kreiranja=a.toLocaleDateString("hr-HR"),e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ce=function(){var a=Object(Ee.a)(ge.a.mark((function a(){return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Promise.all([we(parseInt(e.match.params.id)),Oe(parseInt(e.match.params.id)),ze(parseInt(e.match.params.id))]).then((function(a){p({productId:parseInt(e.match.params.id),category:a[0].naziv_vrste_proizvoda,unit:a[0].sif_mjerne_jedinice,price:a[0].cijena,productDesc:a[0].opis_oglasa,authorId:a[0].sif_korisnika,authorName:a[0].ime_gospodarstva,authorPhoneNumber:a[0].broj_telefona,authorEmail:a[0].email,images:a[1],ratings:a[2].ratings,totalRating:a[2].totalRating}),v({productId:parseInt(e.match.params.id),category:a[0].naziv_vrste_proizvoda,unit:a[0].sif_mjerne_jedinice,price:a[0].cijena,productDesc:a[0].opis_oglasa}),L(!1)}));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Se=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/categories").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/units").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/products_page/farmers").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([Se(),De(),Be()]).then((function(e){l({categories:e[0],units:e[1],farmers:e[2]})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,I.a.put("/api/product_page/product_info",{productId:parseInt(g.productId),categoryId:parseInt(c.categories.find((function(e){return e.naziv_vrste_proizvoda===g.category})).sif_vrste_proizvoda),unitId:parseInt(g.unit),price:parseFloat(g.price),productDesc:g.productDesc},k(j.getState));case 3:z(!1),Ce();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Fe=function(){var a=Object(Ee.a)(ge.a.mark((function a(t,n){var r,i,c,o,l;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return null!==t&&t.preventDefault(),"novi_oglas"!==e.match.params.id&&L(!0),r=function(){var e=Object(Ee.a)(ge.a.mark((function e(){var a,t,n;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new FormData,t=0;t<y.length;t++)a.append("product-images",y[t]);return(n=k(j.getState)).headers["Content-type"]="multipart/form-data",e.abrupt("return",[a,n]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.next=5,r();case 5:return i=a.sent,c=Object(A.a)(i,2),o=c[0],l=c[1],a.next=11,I.a.post("/api/product_page/images/".concat(n),o,l);case 11:"novi_oglas"!==e.match.params.id&&(Ce(),document.querySelector("#productImagesForm").reset()),N(null);case 13:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),Re=function(e,a){L(!0);var t=k(j.getState);return t.data={imageId:e,imageUrl:a},I.a.delete("/api/product_page/image",t)},Le=function(){var a=Object(Ee.a)(ge.a.mark((function a(t){var n;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),X(!0),a.next=4,I.a.post("/api/product_page/product",{categoryId:parseInt(c.categories.find((function(e){return e.naziv_vrste_proizvoda===g.category})).sif_vrste_proizvoda),unitId:parseInt(g.unit),price:parseFloat(g.price),productDesc:g.productDesc,authorId:parseInt(c.farmers.find((function(a){return a.sif_korisnika===parseInt(e.auth.user.userId)})).sif_poljoprivrednika)},k(j.getState)).then((function(e){return e.data.sif_oglasa}));case 4:if(n=a.sent,null===y||0===y.length){a.next=8;break}return a.next=8,Fe(null,parseInt(n));case 8:e.history.push("/oglas/".concat(parseInt(n))),z(!1),X(!1);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),We=function(){var a=Object(Ee.a)(ge.a.mark((function a(){var t,n,r,i,c,o=arguments;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:u,a.next=3,I.a.get("/api/farmer_profile_page/product_delete_check/".concat(parseInt(e.match.params.id)),k(j.getState)).catch((function(e){return ke({message:e.response.data.message,isOpen:!0,severity:"error"}),{data:{message:e.response.data.message}}})).then((function(e){return e.data.message}));case 3:if("Oglas se mo\u017ee obrisati"===a.sent){n=[],r=Object(ba.a)(t.images);try{for(r.s();!(i=r.n()).done;)c=i.value,n.push(Re(c.sif_slike,c.url_slike))}catch(l){r.e(l)}finally{r.f()}Promise.all(n).then((function(){I.a.delete("/api/product_page/product/".concat(parseInt(e.match.params.id)),k(j.getState)).then((function(){return e.history.goBack()}))}))}case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Ue=function(){var a=Object(Ee.a)(ge.a.mark((function a(t){var n,r;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),n=JSON.parse(localStorage.getItem("shoppingCartData")||"[]"),r={orderId:Date.now(),customerId:parseInt(e.auth.user.userId),productId:parseInt(e.match.params.id),quantity:parseInt(ie.quantity)},n.push(r),localStorage.setItem("shoppingCartData",JSON.stringify(n)),ce({quantity:""}),ke({message:"Proizvod je dodan u ko\u0161aricu",isOpen:!0,severity:"success"});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),qe=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,I.a.post("/api/product_page/rating",Q,k(j.getState));case 3:te(!1),Y(Object(E.a)({},Q,{rating:5,comment:""})),Ce();case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),He=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete("/api/product_page/rating/".concat(a),k(j.getState));case 2:Ce();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return"novi_oglas"!==e.match.params.id&&(null===u||null===c)||"novi_oglas"===e.match.params.id&&(null===g||null===c)||"novi_oglas"===e.match.params.id&&q?r.a.createElement("div",{className:"ProductPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper}),r.a.createElement(ue,null),r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))):r.a.createElement("div",{className:"ProductPage"},r.a.createElement(se,{storage:localStorage.getItem("shoppingCartData")}),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:"novi_oglas"!==e.match.params.id?"".concat(a.pageWrapper):"".concat(a.pageWrapperNewProduct)},r.a.createElement("form",{id:"productInfoForm",onSubmit:function(a){"novi_oglas"!==e.match.params.id?Pe(a):Le(a)}}),r.a.createElement("form",{id:"productImagesForm",onSubmit:function(a){return Fe(a,parseInt(e.match.params.id))}}),r.a.createElement(D.a,{className:a.sectionPaper},r.a.createElement(B.a,{maxWidth:"lg"},"novi_oglas"===e.match.params.id?r.a.createElement(T.a,{variant:"h3",className:a.sectionTitle},"Novi oglas"):r.a.createElement(r.a.Fragment,null),r.a.createElement(D.a,{className:O?"".concat(a.sectionTitleFlex," ").concat(a.rowItem):"".concat(a.sectionTitleFlex)},O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.titleInfo},r.a.createElement(Ne.a,{id:"category",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Vrsta proizvoda",required:!0,inputProps:Object(E.a)({},e.inputProps,{form:"productInfoForm"})}))},options:c.categories.map((function(e){return e.naziv_vrste_proizvoda})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:g.category,onChange:function(e,a){v(Object(E.a)({},g,{category:a}))}}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.titleInfoSm},r.a.createElement(Ne.a,{id:"category",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Vrsta proizvoda",required:!0,inputProps:Object(E.a)({},e.inputProps,{form:"productInfoForm"})}))},options:c.categories.map((function(e){return e.naziv_vrste_proizvoda})).sort(new Intl.Collator("hr").compare),getOptionLabel:function(e){return e},value:g.category,onChange:function(e,a){v(Object(E.a)({},g,{category:a}))}})))):r.a.createElement(T.a,{variant:"h3"},u.category),"novi_oglas"===e.match.params.id||null===e.auth.user||e.auth.user.userId!==parseInt(u.authorId)?r.a.createElement(r.a.Fragment,null):O?r.a.createElement(D.a,{className:a.editButtons},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(R.a,{type:"submit",form:"productInfoForm",size:"medium",color:"inherit",className:a.columnItem},"Spremi"),r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){z(!1),v({productId:u.productId,category:u.category,unit:u.unit,price:u.price,productDesc:u.productDesc}),L(!1)}},"Odustani")),r.a.createElement(M.a,{smUp:!0},r.a.createElement(K.a,{title:"Spremi"},r.a.createElement(G.a,{type:"submit",form:"productInfoForm",size:"medium",color:"inherit"},r.a.createElement(Je.a,{fontSize:"inherit",className:a.icon}))),r.a.createElement(K.a,{title:"Odustani"},r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(){z(!1),v({productId:u.productId,category:u.category,unit:u.unit,price:u.price,productDesc:u.productDesc}),L(!1)}},r.a.createElement(Ze.a,{fontSize:"inherit",color:"secondary"}))))):r.a.createElement(D.a,{className:a.editButtons},r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",className:a.columnItem,onClick:function(){return z(!0)}},"Uredi"),r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){return We()}},"Obri\u0161i"))),r.a.createElement(D.a,{className:a.subSection},O?r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,multiline:!0,rows:3,id:"productDesc",label:"Opis proizvoda",required:!0,inputProps:{form:"productInfoForm"},value:g.productDesc,onChange:function(e){v(Object(E.a)({},g,{productDesc:e.target.value}))}}):r.a.createElement(T.a,{variant:"body1"},u.productDesc)),r.a.createElement(D.a,{className:a.subSection},r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},"Slike proizvoda"),"novi_oglas"!==e.match.params.id&&null!==u.images&&0!==u.images.length?r.a.createElement(D.a,{className:"horizontalScroll ".concat(a.horizontalScroll," ").concat(a.rowItem)},u.images.map((function(t){return r.a.createElement(F.a,{key:t.sif_slike,variant:"outlined",className:a.imagePaper},r.a.createElement("a",{href:t.url_slike+"?content-disposition=inline",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:t.url_slike,alt:"Slika proizvoda",className:P?"".concat(a.image," ").concat(a.loadingOverlay):"".concat(a.image)})),null!==e.auth.user&&e.auth.user.userId===parseInt(u.authorId)&&void 0!==t&&null!==t?r.a.createElement(R.a,{size:"small",color:"inherit",disabled:P,onClick:Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t.sif_slike,t.url_slike);case 2:Ce();case 3:case"end":return e.stop()}}),e)})))},"Obri\u0161i"):r.a.createElement(r.a.Fragment,null))}))):"novi_oglas"===e.match.params.id&&null!==y?Array.from(y).map((function(e,a){return r.a.createElement(T.a,{variant:"body1",key:a},e.name)})):r.a.createElement(T.a,{variant:"body1"},"Nema slika"),"novi_oglas"===e.match.params.id||null!==e.auth.user&&e.auth.user.userId===parseInt(u.authorId)?r.a.createElement(D.a,{className:a.subSection},r.a.createElement("input",{id:"add-files-button",name:"product-images",type:"file",form:"productImagesForm",multiple:!0,accept:"image/*",onChange:function(e){return N(e.target.files)},className:a.hiddenInput}),r.a.createElement("label",{htmlFor:"add-files-button"},r.a.createElement(D.a,{className:a.addImagesBox},r.a.createElement(R.a,{component:"span",variant:"outlined",size:"medium",color:"inherit",style:{marginRight:"16px"},disabled:P},"Dodaj slike"),P?r.a.createElement(Xe.a,{color:"inherit",size:25}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(R.a,{id:"productImagesFormSubmitBtn",type:"submit",form:"productImagesForm",size:"medium",color:"inherit",className:a.hiddenInput},"Spremi")):r.a.createElement(r.a.Fragment,null)),r.a.createElement(D.a,{className:a.subSection},r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},"Cijena"),O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(D.a,{className:a.productInfoRow},r.a.createElement(ye.a,{type:"number",fullWidth:!0,variant:"filled",id:"price",label:"Cijena",required:!0,inputProps:{form:"productInfoForm"},value:g.price,onChange:function(e){v(Object(E.a)({},g,{price:e.target.value}))},className:a.columnItem}),r.a.createElement(T.a,{variant:"body1"},"kn")),r.a.createElement(ve.a,{variant:"filled",fullWidth:!0,required:!0},r.a.createElement(he.a,{id:"unit"},"Mjerna jedinica"),r.a.createElement(be.a,{labelId:"unit",id:"unit",inputProps:{form:"productInfoForm"},value:g.unit,onChange:function(e){v(Object(E.a)({},g,{unit:e.target.value}))}},c.units.map((function(e){return r.a.createElement(Z.a,{value:e.sif_mjerne_jedinice,key:e.sif_mjerne_jedinice},e.oznaka_mjerne_jedinice)})))))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.productInfoSm},r.a.createElement(D.a,{className:a.productInfoRow},r.a.createElement(ye.a,{type:"number",fullWidth:!0,variant:"filled",id:"price",label:"Cijena",required:!0,inputProps:{form:"productInfoForm"},value:g.price,onChange:function(e){v(Object(E.a)({},g,{price:e.target.value}))},className:a.columnItem}),r.a.createElement(T.a,{variant:"body1"},"kn")),r.a.createElement(ve.a,{variant:"filled",fullWidth:!0,required:!0},r.a.createElement(he.a,{id:"unit"},"Mjerna jedinica"),r.a.createElement(be.a,{labelId:"unit",id:"unit",inputProps:{form:"productInfoForm"},value:g.unit,onChange:function(e){v(Object(E.a)({},g,{unit:e.target.value}))}},c.units.map((function(e){return r.a.createElement(Z.a,{value:e.sif_mjerne_jedinice,key:e.sif_mjerne_jedinice},e.oznaka_mjerne_jedinice)}))))))):r.a.createElement(D.a,{className:a.productInfoRow},r.a.createElement(T.a,{variant:"h5",className:a.columnItem},u.price),r.a.createElement(T.a,{variant:"body1"},"kn/",c.units.find((function(e){return e.sif_mjerne_jedinice===parseInt(u.unit)})).oznaka_mjerne_jedinice))),"novi_oglas"!==e.match.params.id?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{type:"submit",form:"productInfoForm",size:"large",variant:"contained",color:"primary",className:"".concat(a.button," ").concat(a.buttonMarginTop)},"Kreiraj oglas"),null!==e.auth.user&&2===parseInt(e.auth.user.userType)?r.a.createElement(D.a,null,r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},"Naru\u010di proizvod"),r.a.createElement("form",{onSubmit:function(e){return Ue(e)}},r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.orderBox},r.a.createElement(D.a,{className:a.orderInfoRow},r.a.createElement(ye.a,{type:"number",fullWidth:!0,variant:"filled",id:"quantity",label:"Koli\u010dina",required:!0,value:ie.quantity,onChange:function(e){ce({quantity:e.target.value})},className:a.columnItem}),r.a.createElement(T.a,{variant:"body1"},c.units.find((function(e){return e.sif_mjerne_jedinice===parseInt(u.unit)})).oznaka_mjerne_jedinice)),r.a.createElement(D.a,{className:a.addToCartButtonBox},r.a.createElement(R.a,{type:"submit",variant:"contained",size:"medium",color:"primary",className:"".concat(a.button," ").concat(a.buttonMarginTop)},r.a.createElement(oe.a,{fontSize:"small",className:a.cartIcon}),"Dodaj u ko\u0161aricu")))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.orderBoxSm},r.a.createElement(D.a,{className:a.orderInfoRow},r.a.createElement(ye.a,{type:"number",fullWidth:!0,variant:"filled",id:"quantity",label:"Koli\u010dina",required:!0,value:ie.quantity,onChange:function(e){ce({quantity:e.target.value})},className:a.columnItem}),r.a.createElement(T.a,{variant:"body1"},c.units.find((function(e){return e.sif_mjerne_jedinice===parseInt(u.unit)})).oznaka_mjerne_jedinice)),r.a.createElement(D.a,{className:a.addToCartButtonBox},r.a.createElement(R.a,{type:"submit",variant:"contained",size:"medium",color:"primary",className:"".concat(a.button," ").concat(a.buttonMarginTop)},r.a.createElement(oe.a,{fontSize:"small",className:a.cartIcon}),"Dodaj u ko\u0161aricu")))))):r.a.createElement(r.a.Fragment,null))),"novi_oglas"!==e.match.params.id?r.a.createElement(D.a,{className:a.section},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitle},r.a.createElement(T.a,{variant:"h4"},"Proizvo\u0111a\u010d")),r.a.createElement(D.a,null,r.a.createElement(T.a,{variant:"h5",className:a.subSectionTitle},u.authorName),r.a.createElement(D.a,{className:a.farmerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Broj telefona:"),r.a.createElement(T.a,{variant:"body1"},u.authorPhoneNumber)),r.a.createElement(D.a,{className:a.farmerInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"E-mail adresa:"),r.a.createElement(T.a,{variant:"body1"},u.authorEmail)),r.a.createElement(o.b,{to:"/profil_poljoprivrednik/".concat(u.authorId),className:a.link},r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",className:a.buttonMarginTop},"Vi\u0161e"))))):r.a.createElement(r.a.Fragment,null),"novi_oglas"!==e.match.params.id?r.a.createElement(D.a,{className:a.sectionPaper},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(D.a,{className:a.sectionTitleFlex},r.a.createElement(T.a,{variant:"h4"},"Ocjena"),r.a.createElement(ya.a,{value:u.totalRating,size:"large",precision:.5,readOnly:!0})),null!==u.ratings&&0!==u.ratings.length?r.a.createElement(r.a.Fragment,null,u.ratings.sort((function(e,a){var t=e.datum_kreiranja.split(". "),n=a.datum_kreiranja.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?1:r>i?-1:0})).slice(3*(pe-1),3*(pe-1)+3).map((function(t,n){return r.a.createElement(D.a,{key:t.sif_ocjene},r.a.createElement(D.a,{className:a.ratingNameBtnBox},r.a.createElement(ya.a,{value:t.ocjena,precision:.5,readOnly:!0,className:a.rowItem}),null===e.auth.user||e.auth.user.userId!==t.sif_autora?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){return He(t.sif_ocjene)}},"Obri\u0161i")),r.a.createElement(D.a,{className:a.rating},r.a.createElement(T.a,{variant:"body1",className:a.rowItem},t.komentar),r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.rowItem},t.ime," ",t.prezime),r.a.createElement(T.a,{variant:"caption",color:"textSecondary"},t.datum_kreiranja)),t.sif_ocjene!==u.ratings[u.ratings.length-1].sif_ocjene&&n!==3*pe-1?r.a.createElement(H.a,null):r.a.createElement(r.a.Fragment,null))})),u.ratings.length<=3?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(u.ratings.length/3),defaultPage:1,page:pe,onChange:function(e,a){return de(a)}}))):ae?r.a.createElement(r.a.Fragment,null):r.a.createElement(T.a,{variant:"body1"},"Nema ocjena"),ae?r.a.createElement(D.a,{className:a.rowItem},r.a.createElement("form",{onSubmit:function(e){return qe(e)}},null!==u.ratings&&0!==u.ratings.length?r.a.createElement(H.a,null):r.a.createElement(r.a.Fragment,null),r.a.createElement(D.a,{className:a.addRating},r.a.createElement(ya.a,{size:"large",name:"rating",value:Q.rating,onChange:function(e,a){Y(Object(E.a)({},Q,{rating:a}))},required:!0,className:a.rowItem}),r.a.createElement(ye.a,{variant:"filled",fullWidth:!0,multiline:!0,rows:3,id:"comment",label:"Komentar",value:Q.comment,onChange:function(e){Y(Object(E.a)({},Q,{comment:e.target.value}))},required:!0})),r.a.createElement(D.a,{className:"".concat(a.editButtons," ").concat(a.rowItem)},r.a.createElement(R.a,{type:"submit",size:"medium",color:"inherit",className:a.columnItem},"Spremi"),r.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){Y(Object(E.a)({},Q,{rating:5,comment:""})),te(!1)}},"Odustani")))):r.a.createElement(r.a.Fragment,null),null===e.auth.user||2!==e.auth.user.userType||ae?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{variant:"contained",size:"medium",color:"primary",onClick:function(){null===Q&&Y({rating:5,productId:e.match.params.id,authorId:e.auth.user.userId,comment:""}),te(!0)},className:"".concat(a.button," ").concat(a.buttonMarginTop," ").concat(a.rowItem)},"Dodaj ocjenu"))):r.a.createElement(r.a.Fragment,null)),r.a.createElement(je.a,{open:_e.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&ke({message:"",isOpen:!1,severity:"error"})}},r.a.createElement(Ie.a,{severity:_e.severity},_e.message)),r.a.createElement(ue,null))})),Ma=t(250),Ha=t(237),Ka=t(238),Ga=t(74),Ja=t.n(Ga),Va=t(73),Za=t.n(Va),Qa=t(75),Ya=t.n(Qa),$a=t(82),et=t.n($a),at=t(131),tt=t.n(at),nt=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary},card:{maxWidth:345},image:{height:140},noImage:{height:140,backgroundColor:e.palette.text.disabled,color:e.palette.background.default,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},orderInfo:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},orderInfoCenter:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},columnItem:{marginRight:e.spacing(1)},priceInfo:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}}}));var rt=Object(s.b)((function(e){return{auth:e.auth}}),null)((function(e){var a=nt();return void 0===e.product||null===e.product?null:r.a.createElement("div",{className:"ProductCardFarmer"},r.a.createElement(ja.a,{className:a.card},r.a.createElement(o.b,{to:"/oglas/".concat(e.product.sif_oglasa),className:a.link},r.a.createElement(Na.a,null,void 0!==e.product.slike&&0!==e.product.slike.length?r.a.createElement(Ia.a,{className:a.image,image:e.product.slike[0].url_slike,title:e.product.naziv_vrste_proizvoda}):r.a.createElement(D.a,{className:a.noImage},r.a.createElement(Oa.a,{style:{fontSize:"64px"}})),r.a.createElement(xa.a,null,r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"h5",component:"h2"},e.product.naziv_vrste_proizvoda)),r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"body2"},e.product.opis_oglasa)),r.a.createElement(D.a,{className:a.orderInfoCenter},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Cijena:"),r.a.createElement(D.a,{className:a.priceInfo},r.a.createElement(T.a,{variant:"h5",style:{marginRight:"8px"}},e.product.cijena),r.a.createElement(T.a,{variant:"body2"},"kn/",e.product.oznaka_mjerne_jedinice))),r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Proizvo\u0111a\u010d:"),r.a.createElement(T.a,{variant:"body2"},e.product.ime_gospodarstva)),r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Ocjena:"),r.a.createElement(ya.a,{value:e.product.rating,size:"medium",precision:.5,readOnly:!0}))))),null===e.auth.user||parseInt(e.auth.user.userId)!==parseInt(e.product.sif_korisnika)?r.a.createElement(r.a.Fragment,null):r.a.createElement(_a.a,null,r.a.createElement(o.b,{to:"/oglas/".concat(e.product.sif_oglasa),className:a.link},r.a.createElement(R.a,{size:"small",color:"inherit"},"Uredi")),r.a.createElement(R.a,{size:"small",color:"inherit",onClick:function(){return e.deleteProduct(parseInt(e.product.sif_oglasa))}},"Obri\u0161i"))))})),it=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary},card:{maxWidth:345},image:{height:140},noImage:{height:140,backgroundColor:e.palette.text.disabled,color:e.palette.background.default,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},orderInfo:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},orderInfoCenter:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},columnItem:{marginRight:e.spacing(1)},priceInfo:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}}}));var ct=Object(s.b)((function(e){return{auth:e.auth}}),null)((function(e){var a=it();return void 0===e.product||null===e.product?null:r.a.createElement("div",{className:"ProductCard"},r.a.createElement(ja.a,{className:a.card},r.a.createElement(o.b,{to:"/oglas/".concat(e.product.sif_oglasa),className:a.link},r.a.createElement(Na.a,null,void 0!==e.product.slike&&0!==e.product.slike.length?r.a.createElement(Ia.a,{className:a.image,image:e.product.slike[0].url_slike,title:e.product.naziv_vrste_proizvoda}):r.a.createElement(D.a,{className:a.noImage},r.a.createElement(Oa.a,{style:{fontSize:"64px"}})),r.a.createElement(xa.a,null,r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"body1"},e.product.opis_oglasa)),r.a.createElement(H.a,{style:{marginBottom:"8px"}}),r.a.createElement(D.a,{className:a.orderInfoCenter},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Cijena:"),r.a.createElement(D.a,{className:a.priceInfo},r.a.createElement(T.a,{variant:"h5",style:{marginRight:"8px"}},e.product.cijena),r.a.createElement(T.a,{variant:"body2"},"kn/",e.product.oznaka_mjerne_jedinice))),r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Proizvo\u0111a\u010d:"),r.a.createElement(T.a,{variant:"body2"},e.product.ime_gospodarstva)),r.a.createElement(D.a,{className:a.orderInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Ocjena:"),r.a.createElement(ya.a,{value:e.product.rating,size:"medium",precision:.5,readOnly:!0}))))),null===e.auth.user||parseInt(e.auth.user.userId)!==parseInt(e.product.sif_korisnika)?r.a.createElement(r.a.Fragment,null):r.a.createElement(_a.a,null,r.a.createElement(o.b,{to:"/oglas/".concat(e.product.sif_oglasa),className:a.link},r.a.createElement(R.a,{size:"small",color:"inherit"},"Uredi")),r.a.createElement(R.a,{size:"small",color:"inherit",onClick:function(){return e.deleteProduct(parseInt(e.product.sif_oglasa))}},"Obri\u0161i"))))})),ot=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary},buttonLink:{textDecoration:"none",color:e.palette.background.paper},menuLink:{textDecoration:"none",color:e.palette.text.primary},button:{color:e.palette.background.paper},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},image:{height:"15vh",backgroundImage:"url(".concat(tt.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginBottom:e.spacing(1)},imageOverlay:{height:"15vh",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},title:{color:e.palette.background.default},sectionPaper:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.paper},section:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.default},sectionTitle:{marginBottom:e.spacing(3)},item:{marginBottom:e.spacing(1)},flexRow:{display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"space-between"},flexColumn:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},formItemBox:{width:"49.49%"},formItemBoxSm:{width:"100%"},expPanel:{paddingTop:e.spacing(1),backgroundColor:e.palette.background.default},expPanelDetails:{display:"flex",flexDirection:"column"},expPanelNote:{marginTop:e.spacing(3)},filterIcon:{marginRight:e.spacing(1)},searchButtonBox:{marginTop:e.spacing(4),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},searchButton:{color:e.palette.background.paper,width:"25%"},searchButtonSm:{color:e.palette.background.paper,width:"50%"},searchIcon:{marginLeft:e.spacing(1),color:e.palette.background.paper},sortBox:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",marginBottom:e.spacing(2)},resultsMenuBox:{display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"space-between",marginBottom:e.spacing(5)},farmerButtonsBox:{paddingTop:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},farmerButtonsBoxSm:{paddingTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},farmerButtonMarginRow:{marginRight:e.spacing(2)},farmerButtonMarginColumn:{marginBottom:e.spacing(2)},sortSubBox:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var lt=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=ot(),t=Object(n.useState)(null),i=Object(A.a)(t,2),c=i[0],l=i[1],s=Object(n.useState)(null),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)({type:0,id:0}),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)({type:0,asc:0}),b=Object(A.a)(h,2),y=b[0],N=b[1],x=Object(n.useState)(1),_=Object(A.a)(x,2),O=_[0],z=_[1],w=Object(n.useState)(null),C=Object(A.a)(w,2),F=C[0],L=C[1],W=Object(n.useState)({isLoading:!1,data:null}),U=Object(A.a)(W,2),q=U[0],X=U[1],H=Object(n.useState)({message:"",isOpen:!1}),K=Object(A.a)(H,2),J=K[0],Q=K[1];Object(n.useEffect)((function(){var a=new URL(window.location.href).searchParams,t=parseInt(a.get("filterType")),n=parseInt(a.get("filterId")),r=parseInt(a.get("sortType")),i=parseInt(a.get("sortAsc"));"all"===e.match.params.categoryId?p(e.match.params.categoryId):p(parseInt(e.match.params.categoryId)),v({type:t,id:n}),N({type:r,asc:i}),null!==e.match.params.categoryId&&0!==parseInt(e.match.params.categoryId)?ce(t,n):X({isLoading:!1,data:null}),te()}),[e.match.params]),Object(n.useEffect)((function(){z(1)}),[q.data]);var Y=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/categories"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/units"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/products_page/counties"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/products_page/farmers"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([Y(),$(),ee(),ae()]).then((function(e){return l({categories:e[0].data,units:e[1].data,counties:e[2].data,farmers:e[3].data})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/products_page/product_images/".concat(a)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),re=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/product_page/product_ratings/".concat(a)).then((function(e){var a=0;return e.data.forEach((function(e){return a+=e.ocjena})),a/=e.data.length,a=isNaN(a)?0:a})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a,e.abrupt("return",new Promise((function(e){e(Promise.all([ne(a.sif_oglasa),re(a.sif_oglasa)]).then((function(e){t.slike=e[0],t.rating=e[1];var a=new Date(t.datum_kreiranja);return a.setDate(a.getDate()),t.datum_kreiranja=a.toLocaleDateString("hr-HR"),t})))})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ce=function(){var a=Object(Ee.a)(ge.a.mark((function a(t,n){var r,i,c,o,l;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return X(Object(E.a)({},q,{isLoading:!0})),a.next=3,I.a.get("/api/products_page/products/".concat(e.match.params.categoryId,"/").concat(t,"/").concat(n)).then((function(e){return e.data}));case 3:r=a.sent,i=[],c=Object(ba.a)(r);try{for(c.s();!(o=c.n()).done;)l=o.value,i.push(ie(l))}catch(s){c.e(s)}finally{c.f()}Promise.all(i).then((function(e){X({isLoading:!1,data:e})}));case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),oe=function(e,a){var t=k(j.getState);return t.data={imageId:e,imageUrl:a},I.a.delete("/api/product_page/image",t)},le=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t,n,r,i,c,o,l=arguments;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:q.data,e.next=3,I.a.get("/api/farmer_profile_page/product_delete_check/".concat(parseInt(a)),k(j.getState)).catch((function(e){return Q({message:e.response.data.message,isOpen:!0}),{data:{message:e.response.data.message}}})).then((function(e){return e.data.message}));case 3:if("Oglas se mo\u017ee obrisati"===e.sent){n=t.find((function(e){return parseInt(e.sif_oglasa)===parseInt(a)})).slike,r=[],i=Object(ba.a)(n);try{for(i.s();!(c=i.n()).done;)o=c.value,r.push(oe(o.sif_slike,o.url_slike))}catch(s){i.e(s)}finally{i.f()}Promise.all(r).then((function(){I.a.delete("/api/farmer_profile_page/product/".concat(parseInt(a)),k(j.getState)).then((function(){return ce(g.type,g.id)}))}))}case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return null===c?r.a.createElement("div",{className:"ProductsPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper}),r.a.createElement(ue,null),r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))):r.a.createElement("div",{className:"ProductsPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h3",align:"center",className:a.title},"Oglasi")))),r.a.createElement(D.a,{className:a.sectionPaper},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement("form",{onSubmit:function(a){return function(a){a.preventDefault(),e.history.push("/oglasi/".concat(u,"?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=3&sortAsc=2"))}(a)}},r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.flexRow},r.a.createElement(D.a,{className:a.formItemBox},r.a.createElement(Ne.a,{id:"category",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Proizvod",required:!0}))},options:c.categories.map((function(e){return e.naziv_vrste_proizvoda})).sort(new Intl.Collator("hr").compare).concat("Svi"),getOptionLabel:function(e){return e},value:0===u?"":"all"===u?"Svi":c.categories.find((function(e){return e.sif_vrste_proizvoda===u})).naziv_vrste_proizvoda,onChange:function(e,a){if(null===a||""===a||"Svi"===a)p("all");else{var t=c.categories.find((function(e){return e.naziv_vrste_proizvoda===a})).sif_vrste_proizvoda;p(t)}}})),r.a.createElement(D.a,{className:a.formItemBox},r.a.createElement(Ma.a,{square:!0,className:a.expPanel},r.a.createElement(Ha.a,{expandIcon:r.a.createElement(Za.a,null)},r.a.createElement(Ja.a,{fontSize:"small",className:a.filterIcon}),r.a.createElement(T.a,{variant:"body1"},"Filtriraj oglase")),r.a.createElement(Ka.a,{className:a.expPanelDetails},r.a.createElement(D.a,{className:a.formItemBoxSm},r.a.createElement(Ne.a,{id:"countyFilter",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija"}))},options:c.counties.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare).concat("Sve"),getOptionLabel:function(e){return e},value:1===g.type?c.counties.find((function(e){return e.sif_zupanije===g.id})).naziv_zupanije:"Sve",onChange:function(e,a){null!==a&&"Sve"!==a?v({type:1,id:c.counties.find((function(e){return e.naziv_zupanije===a})).sif_zupanije}):2!==g.type&&v({type:0,id:0})},className:a.item}),r.a.createElement(Ne.a,{id:"farmerFilter",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Proizvo\u0111a\u010d"}))},options:c.farmers.map((function(e){return e.ime_gospodarstva})).sort(new Intl.Collator("hr").compare).concat("Svi"),getOptionLabel:function(e){return e},value:2===g.type?c.farmers.find((function(e){return e.sif_korisnika===g.id})).ime_gospodarstva:"Svi",onChange:function(e,a){null!==a&&"Svi"!==a?v({type:2,id:c.farmers.find((function(e){return e.ime_gospodarstva===a})).sif_korisnika}):1!==g.type&&v({type:0,id:0})}})),r.a.createElement(T.a,{variant:"body1",color:"textSecondary",className:a.expPanelNote},"Napomena: Mogu\u0107e je filtrirati samo po jednom kriteriju")))))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.flexColumn},r.a.createElement(D.a,{className:a.formItemBoxSm},r.a.createElement(Ne.a,{id:"category",fullWidth:!0,autoSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Proizvod",required:!0}))},options:c.categories.map((function(e){return e.naziv_vrste_proizvoda})).sort(new Intl.Collator("hr").compare).concat("Svi"),getOptionLabel:function(e){return e},value:0===u?"":"all"===u?"Svi":c.categories.find((function(e){return e.sif_vrste_proizvoda===u})).naziv_vrste_proizvoda,onChange:function(e,a){if(null===a||""===a||"Svi"===a)p("all");else{var t=c.categories.find((function(e){return e.naziv_vrste_proizvoda===a})).sif_vrste_proizvoda;p(t)}},className:a.item})),r.a.createElement(D.a,{className:a.formItemBoxSm},r.a.createElement(Ma.a,{square:!0,className:a.expPanel},r.a.createElement(Ha.a,{expandIcon:r.a.createElement(Za.a,null)},r.a.createElement(Ja.a,{fontSize:"small",className:a.filterIcon}),r.a.createElement(T.a,{variant:"body1"},"Filtriraj oglase")),r.a.createElement(Ka.a,{className:a.expPanelDetails},r.a.createElement(D.a,{className:a.formItemBoxSm},r.a.createElement(Ne.a,{id:"countyFilter",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija"}))},options:c.counties.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare).concat("Sve"),getOptionLabel:function(e){return e},value:1===g.type?c.counties.find((function(e){return e.sif_zupanije===g.id})).naziv_zupanije:"Sve",onChange:function(e,a){null!==a&&"Sve"!==a?v({type:1,id:c.counties.find((function(e){return e.naziv_zupanije===a})).sif_zupanije}):2!==g.type&&v({type:0,id:0})},className:a.item}),r.a.createElement(Ne.a,{id:"farmerFilter",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"Proizvo\u0111a\u010d"}))},options:c.farmers.map((function(e){return e.ime_gospodarstva})).sort(new Intl.Collator("hr").compare).concat("Svi"),getOptionLabel:function(e){return e},value:2===g.type?c.farmers.find((function(e){return e.sif_korisnika===g.id})).ime_gospodarstva:"Svi",onChange:function(e,a){null!==a&&"Svi"!==a?v({type:2,id:c.farmers.find((function(e){return e.ime_gospodarstva===a})).sif_korisnika}):1!==g.type&&v({type:0,id:0})}})),r.a.createElement(T.a,{variant:"body1",color:"textSecondary",className:a.expPanelNote},"Napomena: Mogu\u0107e je filtrirati samo po jednom kriteriju")))))),r.a.createElement(D.a,{className:a.searchButtonBox},r.a.createElement(M.a,{smDown:!0},r.a.createElement(R.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:a.searchButton},"Pretra\u017ei",r.a.createElement(Ya.a,{fontSize:"small",className:a.searchIcon}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(R.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:a.searchButtonSm},"Pretra\u017ei",r.a.createElement(Ya.a,{fontSize:"small",className:a.searchIcon}))))))),r.a.createElement(D.a,{className:a.section},r.a.createElement(B.a,{maxWidth:"lg"},null===e.auth.user||3!==parseInt(e.auth.user.userType)?r.a.createElement(D.a,{className:a.sortBox},r.a.createElement(T.a,{variant:"body1"},"Sortiraj"),r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(e){return L(e.currentTarget)}},r.a.createElement(et.a,{fontSize:"inherit"})),r.a.createElement(V.a,{anchorEl:F,keepMounted:!0,open:Boolean(F),onClose:function(){return L(null)}},r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=1&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Cijena (od najni\u017ee)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=1&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Cijena (od najvi\u0161e)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=2&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Ocjena (od najni\u017ee)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=2&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Ocjena (od najvi\u0161e)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=3&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Datum kreiranja (od najstarijeg)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=3&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Datum kreiranja (od najnovijeg)")))):r.a.createElement(D.a,{className:a.resultsMenuBox},r.a.createElement(M.a,{xsDown:!0},r.a.createElement(D.a,{className:a.farmerButtonsBox},r.a.createElement(o.b,{to:"/oglas/novi_oglas",className:a.buttonLink},r.a.createElement(R.a,{variant:"contained",size:"medium",color:"primary",className:"".concat(a.button," ").concat(a.farmerButtonMarginRow)},"Novi oglas")),r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){return e.history.push("/oglasi/all?filterType=2&filterId=".concat(parseInt(e.auth.user.userId),"&sortType=3&sortAsc=2"))}},"Moji oglasi"))),r.a.createElement(M.a,{smUp:!0},r.a.createElement(D.a,{className:a.farmerButtonsBoxSm},r.a.createElement(o.b,{to:"/oglas/novi_oglas",className:a.buttonLink},r.a.createElement(R.a,{variant:"contained",size:"medium",color:"primary",className:"".concat(a.button," ").concat(a.farmerButtonMarginColumn)},"Novi oglas")),r.a.createElement(R.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){return e.history.push("/oglasi/all?filterType=2&filterId=".concat(parseInt(e.auth.user.userId),"&sortType=3&sortAsc=2"))}},"Moji oglasi"))),r.a.createElement(D.a,{className:a.sortSubBox},r.a.createElement(T.a,{variant:"body1"},"Sortiraj"),r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(e){return L(e.currentTarget)}},r.a.createElement(et.a,{fontSize:"inherit"})),r.a.createElement(V.a,{anchorEl:F,keepMounted:!0,open:Boolean(F),onClose:function(){return L(null)}},r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=1&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Cijena (od najni\u017ee)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=1&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Cijena (od najvi\u0161e)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=2&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Ocjena (od najni\u017ee)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=2&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Ocjena (od najvi\u0161e)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=3&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Datum kreiranja (od najstarijeg)")),r.a.createElement(o.b,{to:"/oglasi/".concat(e.match.params.categoryId,"/?filterType=").concat(g.type,"&filterId=").concat(g.id,"&sortType=3&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return L(null)}},"Datum kreiranja (od najnovijeg)"))))),q.isLoading?r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"})):null!==q.data&&0!==q.data.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{container:!0,spacing:4,direction:"row",justify:"flex-start"},q.data.sort((function(e,a){if(1===y.type&&1===y.asc)return e.cijena<a.cijena?-1:e.cijena>a.cijena?1:0;if(1===y.type&&2===y.asc)return e.cijena<a.cijena?1:e.cijena>a.cijena?-1:0;if(2===y.type&&1===y.asc)return e.rating<a.rating?-1:e.rating>a.rating?1:0;if(2===y.type&&2===y.asc)return e.rating<a.rating?1:e.rating>a.rating?-1:0;if(3===y.type&&1===y.asc){var t=e.datum_kreiranja.split(". "),n=a.datum_kreiranja.split(". "),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);return r.setDate(r.getDate()),i.setDate(i.getDate()),r<i?-1:r>i?1:0}var c=e.datum_kreiranja.split(". "),o=a.datum_kreiranja.split(". "),l=new Date(c[2],c[1]-1,c[0]),s=new Date(o[2],o[1]-1,o[0]);return l.setDate(l.getDate()),s.setDate(s.getDate()),l<s?1:l>s?-1:0})).slice(8*(O-1),8*(O-1)+8).map((function(a){return r.a.createElement(P.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:a.sif_oglasa},"all"===e.match.params.categoryId?r.a.createElement(rt,{product:a,deleteProduct:le}):r.a.createElement(ct,{product:a,deleteProduct:le}))}))),q.data.length<=8?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(q.data.length/8),defaultPage:1,page:O,onChange:function(e,a){return z(a)}}))):r.a.createElement(T.a,{variant:"body1"},"Nema oglasa")))),r.a.createElement(je.a,{open:J.isOpen,autoHideDuration:4e3,onClose:function(e,a){"clickaway"!==a&&Q({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"error"},J.message)),r.a.createElement(ue,null))})),st=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},launchIcon:{marginLeft:e.spacing(1)},card:{maxWidth:345},image:{height:140},noImage:{height:140,backgroundColor:e.palette.text.disabled,color:e.palette.background.default,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},productInfo:{marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},columnItem:{marginRight:e.spacing(1)},rowItem:{marginBottom:e.spacing(1)}}}));var mt=function(e){var a=st(),t=Object(n.useState)(null),i=Object(A.a)(t,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){var a=new Date;a.setDate(a.getDate()+e.order.productData.rok_isporuke_dani),a=a.toLocaleDateString("hr-HR"),l(a)}),[e.order]),void 0===e.order||null===e.order?null:r.a.createElement("div",{className:"ShoppingCartOrder"},r.a.createElement(ja.a,{className:a.card},r.a.createElement(Na.a,null,void 0!==e.order.productData.slike&&0!==e.order.productData.slike.length?r.a.createElement(M.a,{smDown:!0},r.a.createElement(Ia.a,{className:a.image,image:e.order.productData.slike[0].url_slike,title:e.order.productData.naziv_vrste_proizvoda})):r.a.createElement(D.a,{className:a.noImage},r.a.createElement(Oa.a,{style:{fontSize:"64px"}})),r.a.createElement(xa.a,null,r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(o.b,{to:"/oglas/".concat(e.order.productData.sif_oglasa),className:a.link},r.a.createElement(T.a,{variant:"h5",component:"h2"},e.order.productData.naziv_vrste_proizvoda),r.a.createElement(K.a,{title:"Otvori stranicu oglasa"},r.a.createElement(Ra.a,{color:"inherit",className:a.launchIcon,style:{fontSize:"1rem"}})))),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Proizvo\u0111a\u010d:"),r.a.createElement(o.b,{to:"/profil_poljoprivrednik/".concat(e.order.productData.sif_korisnika),className:a.link},r.a.createElement(T.a,{variant:"body2"},e.order.productData.ime_gospodarstva),r.a.createElement(K.a,{title:"Otvori stranicu poljoprivrednika"},r.a.createElement(Ra.a,{color:"inherit",className:a.launchIcon,style:{fontSize:"1rem"}})))),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Koli\u010dina:"),r.a.createElement(T.a,{variant:"body2"},e.order.quantity," ",e.order.productData.oznaka_mjerne_jedinice)),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Cijena:"),r.a.createElement(T.a,{variant:"body2"},e.order.quantity*e.order.productData.cijena," kn")),r.a.createElement(D.a,{className:a.productInfo},r.a.createElement(T.a,{variant:"subtitle2",color:"textSecondary",className:a.columnItem},"Dostava do:"),r.a.createElement(T.a,{variant:"body2"},c)))),r.a.createElement(_a.a,null,r.a.createElement(R.a,{size:"small",color:"inherit",onClick:function(){return e.deleteOrder(e.order.orderId)}},"Obri\u0161i"))))},ut=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},button:{color:e.palette.background.paper},pageWrapper:{backgroundColor:e.palette.background.paper,minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},section:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.default},sectionPaper:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.paper},sectionTitle:{marginBottom:e.spacing(3)},subSection:{marginBottom:e.spacing(5)},subSectionTitle:{marginBottom:e.spacing(2)},subSectionTitleSm:{marginBottom:e.spacing(1)},orderButton:{marginTop:e.spacing(5)},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));var pt=Object(s.b)((function(e){return{auth:e.auth}}),{tokenConfig:k})((function(e){var a=ut(),t=Object(n.useState)(null),i=Object(A.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(null),s=Object(A.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)(1),d=Object(A.a)(p,2),f=d[0],g=d[1],E=Object(n.useState)({message:"",isOpen:!1}),v=Object(A.a)(E,2),h=v[0],b=v[1];Object(n.useEffect)((function(){_()}),[]),Object(n.useEffect)((function(){if(void 0!==c&&null!==c&&f>Math.ceil(c.length/4)){var e=Math.ceil(c.length/4);g(e)}}),[c]);var y=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/shopping_cart_page/product_images/".concat(a)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/api/shopping_cart_page/product_data/".concat(a)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),x=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={orderId:a.orderId,customerId:a.customerId,productData:null,quantity:a.quantity},e.abrupt("return",Promise.all([N(a.productId),y(a.productId)]).then((function(e){return e[0].slike=e[1],t.productData=e[0],t})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_=function(){var e=Object(Ee.a)(ge.a.mark((function e(){var a,t,n,r,i;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=JSON.parse(localStorage.getItem("shoppingCartData")||"[]"),t=[],0!==a.length){n=Object(ba.a)(a);try{for(n.s();!(r=n.n()).done;)i=r.value,t.push(x(i))}catch(c){n.e(c)}finally{n.f()}}Promise.all(t).then((function(e){var a=0;e.forEach((function(e){a+=e.quantity*e.productData.cijena})),o(e),u(a)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var a=Object(Ee.a)(ge.a.mark((function a(){var t,n,r;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=Object(ba.a)(c),a.prev=1,t.s();case 3:if((n=t.n()).done){a.next=9;break}return r=n.value,a.next=7,I.a.post("/api/shopping_cart_page/order",{quantity:parseInt(r.quantity),productId:parseInt(r.productData.sif_oglasa),customerId:parseInt(r.customerId)},k(j.getState));case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.e(a.t0);case 14:return a.prev=14,t.f(),a.finish(14);case 17:b({message:"Proizvodi su uspje\u0161no naru\u010deni",isOpen:!0}),setTimeout((function(){o(null),u(null),localStorage.removeItem("shoppingCartData"),e.history.push("/profil_kupac/".concat(e.auth.user.userId))}),2300);case 19:case"end":return a.stop()}}),a,null,[[1,11,14,17]])})));return function(){return a.apply(this,arguments)}}(),z=function(e){var a=JSON.parse(localStorage.getItem("shoppingCartData")||"[]").filter((function(a){return a.orderId!==e}));localStorage.setItem("shoppingCartData",JSON.stringify(a)),_()};return null===c||null===m?r.a.createElement("div",{className:"ShoppingCartPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper}),r.a.createElement(ue,null),r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))):r.a.createElement("div",{className:"ShoppingCartPage"},r.a.createElement(se,{storage:localStorage.getItem("shoppingCartData")}),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:0!==c.length?"".concat(a.section):"".concat(a.sectionPaper)},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h3",className:a.sectionTitle},"Ko\u0161arica"),0===c.length?r.a.createElement(T.a,{variant:"h5"},"Va\u0161a ko\u0161arica je prazna"):r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"h4",className:a.subSectionTitle},"Proizvodi"),r.a.createElement(P.a,{container:!0,spacing:4,direction:"row",justify:"flex-start"},c.slice(4*(f-1),4*(f-1)+4).map((function(e){return r.a.createElement(P.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e.orderId},r.a.createElement(mt,{order:e,deleteOrder:z}))}))),c.length<=4?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(c.length/4),defaultPage:1,page:f,onChange:function(e,a){return g(a)}}))))),0===c.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.sectionPaper},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h4",className:a.subSectionTitleSm},"Ukupna cijena"),r.a.createElement(T.a,{variant:"h5"},m," kn"),r.a.createElement(D.a,{className:a.orderButton},r.a.createElement(R.a,{variant:"contained",size:"large",color:"primary",className:a.button,onClick:function(){return O()}},"Naru\u010di"))))),r.a.createElement(je.a,{open:h.isOpen,autoHideDuration:2e3,onClose:function(e,a){"clickaway"!==a&&b({message:"",isOpen:!1})}},r.a.createElement(Ie.a,{severity:"success"},h.message)),r.a.createElement(ue,null))})),dt=t(132),ft=t.n(dt),gt=Object(C.a)((function(e){return{link:{textDecoration:"none",color:e.palette.text.primary},menuLink:{textDecoration:"none",color:e.palette.text.primary},button:{color:e.palette.background.paper},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},pageWrapper:{minHeight:"89.25vh",height:"auto",display:"flex",flexDirection:"column"},image:{height:"15vh",backgroundImage:"url(".concat(ft.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginBottom:e.spacing(1)},imageOverlay:{height:"15vh",backgroundColor:"#0000006E",display:"flex",alignItems:"center",justifyContent:"center"},title:{color:e.palette.background.default},sectionPaper:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.paper},section:{padding:e.spacing(2),paddingTop:e.spacing(3),paddingBottom:e.spacing(5),backgroundColor:e.palette.background.default},sectionTitle:{marginBottom:e.spacing(3)},item:{marginBottom:e.spacing(1)},flexRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},flexColumn:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},formItemBox:{width:"49.49%"},formItemBoxSm:{width:"100%"},expPanel:{paddingTop:e.spacing(1),backgroundColor:e.palette.background.default},expPanelDetails:{display:"flex",flexDirection:"column"},filterIcon:{marginRight:e.spacing(1)},searchButtonBox:{marginTop:e.spacing(4),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},searchButton:{color:e.palette.background.paper,width:"25%"},searchButtonSm:{color:e.palette.background.paper,width:"50%"},searchIcon:{marginLeft:e.spacing(1),color:e.palette.background.paper},sortBox:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",marginBottom:e.spacing(2)},pagination:{marginTop:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},paperBox:{padding:e.spacing(2),marginBottom:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},farmerNameMargin:{marginRight:e.spacing(2)}}}));var Et=function(e){var a=gt(),t=Object(n.useState)(null),i=Object(A.a)(t,2),c=i[0],l=i[1],s=Object(n.useState)({type:0,id:0}),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)({type:0,asc:0}),f=Object(A.a)(d,2),g=f[0],v=f[1],h=Object(n.useState)(1),b=Object(A.a)(h,2),y=b[0],j=b[1],N=Object(n.useState)(null),x=Object(A.a)(N,2),_=x[0],k=x[1],O=Object(n.useState)({isLoading:!1,data:null}),z=Object(A.a)(O,2),w=z[0],C=z[1];Object(n.useEffect)((function(){var e=new URL(window.location.href).searchParams,a=parseInt(e.get("filterType")),t=parseInt(e.get("filterId")),n=parseInt(e.get("sortType")),r=parseInt(e.get("sortAsc"));p({type:a,id:t}),v({type:n,asc:r}),W(a,t),P()}),[e.match.params]),Object(n.useEffect)((function(){j(1)}),[w.data]);var P=function(){var e=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.a.get("/api/farmers_page/counties").then((function(e){l({counties:e.data})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(Ee.a)(ge.a.mark((function e(a){var t;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a,e.abrupt("return",I.a.get("/api/farmers_page/ratings/".concat(a.sif_poljoprivrednika)).then((function(e){var a=0;return e.data.forEach((function(e){return a+=e.ocjena})),a/=e.data.length,t.rating=isNaN(a)?0:a,t})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(Ee.a)(ge.a.mark((function e(a,t){var n,r,i,c,o;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(Object(E.a)({},w,{isLoading:!0})),e.next=3,I.a.get("/api/farmers_page/farmers/".concat(a,"/").concat(t)).then((function(e){return e.data}));case 3:n=e.sent,r=[],i=Object(ba.a)(n);try{for(i.s();!(c=i.n()).done;)o=c.value,r.push(L(o))}catch(l){i.e(l)}finally{i.f()}Promise.all(r).then((function(e){C({isLoading:!1,data:e})}));case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return null===w.data||null===c?r.a.createElement("div",{className:"FarmersPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper}),r.a.createElement(ue,null),r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"}))):r.a.createElement("div",{className:"FarmersPage"},r.a.createElement(se,null),r.a.createElement(S.a,null),r.a.createElement(D.a,{className:a.pageWrapper},r.a.createElement(D.a,{className:a.image},r.a.createElement(D.a,{className:a.imageOverlay},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement(T.a,{variant:"h3",align:"center",className:a.title},"Poljoprivrednici")))),r.a.createElement(D.a,{className:a.sectionPaper},r.a.createElement(B.a,{maxWidth:"lg"},r.a.createElement("form",{onSubmit:function(a){return function(a){a.preventDefault(),e.history.push("/poljoprivrednici?filterType=".concat(u.type,"&filterId=").concat(u.id,"&sortType=1&sortAsc=1"))}(a)}},r.a.createElement(M.a,{smDown:!0},r.a.createElement(D.a,{className:a.flexRow},r.a.createElement(D.a,{className:a.formItemBox},r.a.createElement(Ma.a,{square:!0,className:a.expPanel},r.a.createElement(Ha.a,{expandIcon:r.a.createElement(Za.a,null)},r.a.createElement(Ja.a,{fontSize:"small",className:a.filterIcon}),r.a.createElement(T.a,{variant:"body1"},"Filtriraj poljoprivrednike")),r.a.createElement(Ka.a,{className:a.expPanelDetails},r.a.createElement(D.a,{className:a.formItemBoxSm},r.a.createElement(Ne.a,{id:"countyFilter",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija"}))},options:c.counties.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare).concat("Sve"),getOptionLabel:function(e){return e},value:1===u.type?c.counties.find((function(e){return e.sif_zupanije===u.id})).naziv_zupanije:"Sve",onChange:function(e,a){p(null!==a&&"Sve"!==a?{type:1,id:c.counties.find((function(e){return e.naziv_zupanije===a})).sif_zupanije}:{type:0,id:0})},className:a.item}))))))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(D.a,{className:a.flexColumn},r.a.createElement(D.a,{className:a.formItemBoxSm},r.a.createElement(Ma.a,{square:!0,className:a.expPanel},r.a.createElement(Ha.a,{expandIcon:r.a.createElement(Za.a,null)},r.a.createElement(Ja.a,{fontSize:"small",className:a.filterIcon}),r.a.createElement(T.a,{variant:"body1"},"Filtriraj poljoprivrednike")),r.a.createElement(Ka.a,{className:a.expPanelDetails},r.a.createElement(D.a,{className:a.formItemBoxSm},r.a.createElement(Ne.a,{id:"countyFilter",fullWidth:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{variant:"filled",label:"\u017dupanija"}))},options:c.counties.map((function(e){return e.naziv_zupanije})).sort(new Intl.Collator("hr").compare).concat("Sve"),getOptionLabel:function(e){return e},value:1===u.type?c.counties.find((function(e){return e.sif_zupanije===u.id})).naziv_zupanije:"Sve",onChange:function(e,a){p(null!==a&&"Sve"!==a?{type:1,id:c.counties.find((function(e){return e.naziv_zupanije===a})).sif_zupanije}:{type:0,id:0})},className:a.item}))))))),r.a.createElement(D.a,{className:a.searchButtonBox},r.a.createElement(M.a,{smDown:!0},r.a.createElement(R.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:a.searchButton},"Pretra\u017ei",r.a.createElement(Ya.a,{fontSize:"small",className:a.searchIcon}))),r.a.createElement(M.a,{mdUp:!0},r.a.createElement(R.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:a.searchButtonSm},"Pretra\u017ei",r.a.createElement(Ya.a,{fontSize:"small",className:a.searchIcon}))))))),r.a.createElement(D.a,{className:a.section},r.a.createElement(B.a,{maxWidth:"md"},r.a.createElement(D.a,{className:a.sortBox},r.a.createElement(T.a,{variant:"body1"},"Sortiraj"),r.a.createElement(G.a,{size:"medium",color:"inherit",onClick:function(e){return k(e.currentTarget)}},r.a.createElement(et.a,{fontSize:"inherit"})),r.a.createElement(V.a,{anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:function(){return k(null)}},r.a.createElement(o.b,{to:"/poljoprivrednici?filterType=".concat(u.type,"&filterId=").concat(u.id,"&sortType=1&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return k(null)}},"Ime gospodarstva (uzlazno)")),r.a.createElement(o.b,{to:"/poljoprivrednici?filterType=".concat(u.type,"&filterId=").concat(u.id,"&sortType=1&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return k(null)}},"Ime gospodarstva (silazno)")),r.a.createElement(o.b,{to:"/poljoprivrednici?filterType=".concat(u.type,"&filterId=").concat(u.id,"&sortType=2&sortAsc=1"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return k(null)}},"Ocjena (od najni\u017ee)")),r.a.createElement(o.b,{to:"/poljoprivrednici?filterType=".concat(u.type,"&filterId=").concat(u.id,"&sortType=2&sortAsc=2"),className:a.menuLink},r.a.createElement(Z.a,{onClick:function(){return k(null)}},"Ocjena (od najvi\u0161e)")))),w.isLoading?r.a.createElement(Ae.a,{className:a.backdrop,open:!0},r.a.createElement(Xe.a,{color:"inherit"})):null!==w.data&&0!==w.data.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,null,w.data.sort((function(e,a){return 0===g.type&&0===g.asc||1===g.type&&1===g.asc?new Intl.Collator("hr").compare(e.ime_gospodarstva,a.ime_gospodarstva):1===g.type&&2===g.asc?-1*new Intl.Collator("hr").compare(e.ime_gospodarstva,a.ime_gospodarstva):2===g.type&&1===g.asc?e.rating<a.rating?-1:e.rating>a.rating?1:0:e.rating<a.rating?1:e.rating>a.rating?-1:0})).slice(10*(y-1),10*(y-1)+10).map((function(e){return r.a.createElement(o.b,{key:e.sif_korisnika,to:"/profil_poljoprivrednik/".concat(e.sif_korisnika),className:a.link},r.a.createElement(F.a,{elevation:3,className:a.paperBox},r.a.createElement(T.a,{variant:"h5",className:a.farmerNameMargin},e.ime_gospodarstva),r.a.createElement(ya.a,{value:e.rating,precision:.5,readOnly:!0})))}))),w.data.length<=10?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{className:a.pagination},r.a.createElement(Me.a,{count:Math.ceil(w.data.length/10),defaultPage:1,page:y,onChange:function(e,a){return j(a)}}))):r.a.createElement(T.a,{variant:"body1"},"Nema poljoprivrednika")))),r.a.createElement(ue,null))};var vt=function(){var e=Object(u.a)({palette:{primary:{main:"#69b55d"},secondary:{main:"#A6281C"}}});return e=Object(p.a)(e),Object(n.useEffect)((function(){j.dispatch((function(e,a){e({type:"USER_LOADING"}),I.a.get("/api/auth/user",k(a)).then((function(a){e({type:"USER_LOADED",payload:a.data})})).catch((function(a){e(x(a.response.data.message,"AUTH_ERROR")),e({type:"AUTH_ERROR"})}))}))}),[]),r.a.createElement(s.a,{store:j},r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null),r.a.createElement(d.a,{theme:e},r.a.createElement(o.a,null,r.a.createElement(O,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:de}),r.a.createElement(l.b,{exact:!0,path:"/registracija",component:Oe}),r.a.createElement(l.b,{exact:!0,path:"/prijava",component:Se}),r.a.createElement(w,{exact:!0,path:"/admin",component:qe}),r.a.createElement(w,{exact:!0,path:"/admin_vrste_proizvoda",component:ca}),r.a.createElement(w,{exact:!0,path:"/admin_mjerne_jedinice",component:ma}),r.a.createElement(w,{exact:!0,path:"/admin_postanski_uredi",component:fa}),r.a.createElement(w,{exact:!0,path:"/admin_zupanije",component:ha}),r.a.createElement(l.b,{exact:!0,path:"/profil_poljoprivrednik/:id",component:Pa}),r.a.createElement(l.b,{exact:!0,path:"/profil_kupac/:id",component:qa}),r.a.createElement(l.b,{exact:!0,path:"/oglas/:id",component:Xa}),r.a.createElement(l.b,{exact:!0,path:"/oglasi/:categoryId",component:lt}),r.a.createElement(l.b,{exact:!0,path:"/poljoprivrednici",component:Et}),r.a.createElement(w,{exact:!0,path:"/kosarica",component:pt}))))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(vt,null)),document.getElementById("root"))},78:function(e,a,t){e.exports=t.p+"static/media/adminCategoriesImage.180f9068.jpg"},79:function(e,a,t){e.exports=t.p+"static/media/adminUnitsImage.42d8ab52.jpg"},80:function(e,a,t){e.exports=t.p+"static/media/adminPostOfficesImage.71e18201.jpg"},81:function(e,a,t){e.exports=t.p+"static/media/adminCountiesImage.41e6e393.jpg"}},[[148,1,2]]]);
//# sourceMappingURL=main.aec95fa1.chunk.js.map